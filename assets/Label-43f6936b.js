import{r as u}from"./index-8b3efc3f.js";import{r as b,j as E,c as M,a as y}from"./Icon-8dd1dd62.js";import{b as A,a as O,_ as T}from"./index-971785a2.js";function g(e,n,{checkForDefaultPrevented:r=!0}={}){return function(t){if(e==null||e(t),r===!1||!t.defaultPrevented)return n==null?void 0:n(t)}}function N(e){const n=u.useRef(e);return u.useEffect(()=>{n.current=e}),u.useMemo(()=>(...r)=>{var t;return(t=n.current)===null||t===void 0?void 0:t.call(n,...r)},[])}const v=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{};function S(e){const[n,r]=u.useState(void 0);return v(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let d,c;if("borderBoxSize"in a){const i=a.borderBoxSize,o=Array.isArray(i)?i[0]:i;d=o.inlineSize,c=o.blockSize}else d=e.offsetWidth,c=e.offsetHeight;r({width:d,height:c})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}else r(void 0)},[e]),n}function U(e,n){return u.useReducer((r,t)=>n[r][t]??r,e)}const h=e=>{const{present:n,children:r}=e,t=P(n),s=typeof r=="function"?r({present:t.isPresent}):u.Children.only(r),a=A(t.ref,s.ref);return typeof r=="function"||t.isPresent?u.cloneElement(s,{ref:a}):null};h.displayName="Presence";function P(e){const[n,r]=u.useState(),t=u.useRef({}),s=u.useRef(e),a=u.useRef("none"),d=e?"mounted":"unmounted",[c,i]=U(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const o=p(t.current);a.current=c==="mounted"?o:"none"},[c]),v(()=>{const o=t.current,f=s.current;if(f!==e){const l=a.current,m=p(o);e?i("MOUNT"):m==="none"||(o==null?void 0:o.display)==="none"?i("UNMOUNT"):i(f&&l!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,i]),v(()=>{if(n){const o=l=>{const m=p(t.current).includes(l.animationName);l.target===n&&m&&b.flushSync(()=>i("ANIMATION_END"))},f=l=>{l.target===n&&(a.current=p(t.current))};return n.addEventListener("animationstart",f),n.addEventListener("animationcancel",o),n.addEventListener("animationend",o),()=>{n.removeEventListener("animationstart",f),n.removeEventListener("animationcancel",o),n.removeEventListener("animationend",o)}}else i("ANIMATION_END")},[n,i]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:u.useCallback(o=>{o&&(t.current=getComputedStyle(o)),r(o)},[])}}function p(e){return(e==null?void 0:e.animationName)||"none"}function R({prop:e,defaultProp:n,onChange:r=()=>{}}){const[t,s]=x({defaultProp:n,onChange:r}),a=e!==void 0,d=a?e:t,c=N(r),i=u.useCallback(o=>{if(a){const f=typeof o=="function"?o(e):o;f!==e&&c(f)}else s(o)},[a,e,s,c]);return[d,i]}function x({defaultProp:e,onChange:n}){const r=u.useState(e),[t]=r,s=u.useRef(t),a=N(n);return u.useEffect(()=>{s.current!==t&&(a(t),s.current=t)},[t,s,a]),r}function I(e){const n=u.useRef({value:e,previous:e});return u.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}const L=u.forwardRef((e,n)=>u.createElement(O.label,T({},e,{ref:n,onMouseDown:r=>{var t;(t=e.onMouseDown)===null||t===void 0||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault()}}))),w=L,D=y("block text-sm font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-50 text-slate-800 dark:text-slate-50"),k=u.forwardRef(({className:e,...n},r)=>E.jsx(w,{ref:r,className:M(D(),e),...n}));export{R as $,k as L,g as a,I as b,S as c,h as d,N as e,v as f};

import{R as Sr,j as r,I as P,c as w,a as q}from"./Icon-8dd1dd62.js";import{g as Tr}from"./_commonjsHelpers-de833af9.js";import{r as o,R as S}from"./index-8b3efc3f.js";import{u as O,a as Ke}from"./react-redux-52a3bd12.js";import{v as re,Y as Mr,t as R,J as Pr,L as Rr,a5 as Fr,p as Nt,a6 as St,a7 as Tt,a8 as Mt,a9 as je,q as Pt,aa as Lr,s as ae,ab as Dr,ac as Rt,ad as Ir,y as Ze,k as _e,ae as Ar,af as Or,T as zr,ag as Vr,ah as $r,ai as Gr}from"./store-fcbe2a1f.js";import{t as $}from"./trackEventViaMessage-5bc40ab7.js";import{M as X,i as Ft}from"./userHelpers-16bc7dd8.js";import{a as Br}from"./options-0d513709.js";import{a as Lt,b as Dt,c as It,e as At,$ as Ur,f as Hr,g as Wr,h as Kr,T as Ot}from"./Switch-b264271b.js";import{g as ke,e as Zr,d as zt,I as qr,J as Xr,K as Yr,C as Vt,L as Jr,m as Qr,k as ea,a as $t,M as Gt,N as ta,E as na,F as Bt,G as ra,H as aa,O as sa}from"./index-13d794b2.js";import{B as oa,u as Ut,A as Ht}from"./AudioSwitch-b354519f.js";import{B as F,a as ia}from"./Button-7b9bff07.js";import{f as la}from"./index-e7938b7c.js";import{s as ca,t as da,u as ua,j as pa,v as ma,w as fa,x as ha,a as Wt}from"./index-02c9c348.js";import{F as qe}from"./FAIcon-d24804f9.js";import{a as z,_ as b,$ as Ee,b as se,e as Kt,c as ga,d as xa}from"./index-971785a2.js";import{$ as oe,a as Xe,b as Ye,c as Je,d as va}from"./index-0e244c8a.js";import{$ as Ne,a as T,e as Se,d as Te}from"./Label-43f6936b.js";import{$ as Zt}from"./index-e669e871.js";import{S as Qe}from"./DocumentIcon-f87a7824.js";import{A as et}from"./Avatar-355cf6f2.js";import{B as he,g as qt,t as ba}from"./googleFaviconServiceHelper-8a59a545.js";import{C as wa,a as ya,S as Me,A as Ca}from"./useExtensionMessagesListener-4d9e1118.js";import{g as ja}from"./longRunningRecorder-5bbcc7ac.js";import{g as _a}from"./allowedDomainsDB-2da60848.js";import{g as ka,s as Ea}from"./scribeSuggestions-6bff5e43.js";import{T as Na}from"./Toolbar-bf89fd8a.js";var ie=(e=>(e.ENTERPRISE="enterprise",e.PRO="pro",e.FREE="free",e.BASE="base",e.CORE="core",e.HUB="hub",e.GRID="grid",e))(ie||{}),Xt={exports:{}},Sa="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ta=Sa,Ma=Ta;function Yt(){}function Jt(){}Jt.resetWarningCache=Yt;var Pa=function(){function e(a,s,l,d,i,u){if(u!==Ma){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Jt,resetWarningCache:Yt};return n.PropTypes=n,n};Xt.exports=Pa();var Ra=Xt.exports;const Pe=Tr(Ra),Qt=o.forwardRef((e,t)=>{var n;const{container:a=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=e;return a?Sr.createPortal(o.createElement(z.div,b({},s,{ref:t})),a):null}),Fa="/assets/background-hero.svg",La=e=>o.createElement("svg",{width:81,height:28,viewBox:"0 0 81 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},o.createElement("path",{d:"M7.12109 19.7909C7.12109 19.8702 7.1592 19.9448 7.22445 19.99C8.51969 20.8866 10.1682 21.4659 12.2103 21.4659C15.8143 21.4659 17.6927 19.5028 17.6927 17.1471C17.6927 14.7041 16.273 13.5044 13.5427 12.3048C11.839 11.5413 10.2664 11.0178 10.2664 9.79635C10.2664 8.88023 11.1401 8.22586 12.7127 8.22586C14.0274 8.22586 15.0352 8.58064 15.9167 9.22086C16.0874 9.34482 16.3385 9.22854 16.3385 9.01777V6.91634C16.3385 6.83496 16.2984 6.75852 16.23 6.71428C15.2246 6.06427 14.0173 5.73926 12.6472 5.73926C9.72032 5.73926 7.5361 7.28793 7.5361 9.79635C7.5361 12.1739 9.30532 13.3299 11.5769 14.2897C13.9577 15.293 14.9843 15.7947 14.9843 17.1471C14.9843 18.1068 14.0014 19.023 12.0574 19.023C10.1996 19.023 8.71891 18.3722 7.55474 17.3894C7.38798 17.2487 7.12109 17.3627 7.12109 17.5807V19.7909Z",fill:"#231842"}),o.createElement("path",{d:"M19.1463 15.6857C19.1463 19.0448 21.7455 21.5096 25.1529 21.5096C26.4622 21.5096 27.6899 21.1629 28.599 20.4696C28.6581 20.4246 28.6914 20.354 28.6914 20.2798V18.3643C28.6914 18.1465 28.4229 18.0308 28.2507 18.1644C27.3538 18.8598 26.3538 19.132 25.3058 19.132C23.2526 19.132 21.7455 17.6706 21.7455 15.6857C21.7455 13.7007 23.2526 12.2393 25.3058 12.2393C26.3553 12.2393 27.3565 12.5283 28.2543 13.2166C28.4262 13.3484 28.6914 13.2326 28.6914 13.0161V11.0938C28.6914 11.0183 28.6569 10.9467 28.5962 10.9017C27.6874 10.2281 26.4609 9.86178 25.1529 9.86178C21.7455 9.86178 19.1463 12.3266 19.1463 15.6857Z",fill:"#231842"}),o.createElement("path",{d:"M30.6333 20.9582C30.6333 21.0941 30.7435 21.2042 30.8796 21.2042H32.9862C33.1222 21.2042 33.2325 21.0941 33.2325 20.9582V15.4239C33.2325 13.6135 34.3901 12.4793 36.203 12.4793C36.4905 12.4793 36.757 12.5002 36.9953 12.5348C37.1505 12.5573 37.2952 12.4407 37.2952 12.2841V10.2597C37.2952 10.1425 37.2119 10.0433 37.0953 10.0302C36.9262 10.0113 36.6942 9.99266 36.5088 9.99266C34.9362 9.99266 33.7567 10.7125 33.2325 11.8467V10.4567C33.2325 10.3209 33.1222 10.2108 32.9862 10.2108H30.8796C30.7435 10.2108 30.6333 10.3209 30.6333 10.4567V20.9582Z",fill:"#231842"}),o.createElement("path",{d:"M40.4546 8.92385C41.2846 8.92385 42.0054 8.24767 42.0054 7.37518C42.0054 6.50269 41.2846 5.82651 40.4546 5.82651C39.6028 5.82651 38.882 6.50269 38.882 7.37518C38.882 8.24767 39.6028 8.92385 40.4546 8.92385ZM39.1441 20.9582C39.1441 21.0941 39.2543 21.2042 39.3904 21.2042H41.5188C41.6549 21.2042 41.7651 21.0941 41.7651 20.9582V10.4567C41.7651 10.3209 41.6549 10.2108 41.5188 10.2108H39.3904C39.2543 10.2108 39.1441 10.3209 39.1441 10.4567V20.9582Z",fill:"#231842"}),o.createElement("path",{d:"M44.0714 20.9582C44.0714 21.0941 44.1816 21.2042 44.3177 21.2042H46.4461C46.5822 21.2042 46.6924 21.0941 46.6924 20.9582V19.6119C47.0638 20.6371 48.3525 21.4441 50.209 21.4441C53.3106 21.4441 55.7133 18.9575 55.7133 15.7075C55.7133 12.4574 53.3106 9.97084 50.209 9.97084C48.3525 9.97084 47.0638 10.7779 46.6924 11.8031V6.43738C46.6924 6.27964 46.5459 6.16268 46.3918 6.19749L44.2633 6.67846C44.1511 6.70382 44.0714 6.80343 44.0714 6.91835V20.9582ZM46.4959 15.7075C46.4959 13.788 47.9593 12.3484 49.8596 12.3484C51.7162 12.3484 53.1141 13.788 53.1141 15.7075C53.1141 17.627 51.7162 19.0666 49.8596 19.0666C47.9593 19.0666 46.4959 17.627 46.4959 15.7075Z",fill:"#231842"}),o.createElement("path",{d:"M57.0503 15.8165C57.0503 19.2847 59.4093 21.5314 62.8603 21.5314C64.7169 21.5314 65.8194 21.1651 66.8176 20.4915C66.884 20.4466 66.923 20.3712 66.923 20.2911V18.5389C66.923 18.3243 66.659 18.2037 66.4809 18.3237C65.7963 18.7849 64.6737 19.2411 62.9695 19.2411C61.0037 19.2411 59.7369 18.1286 59.6495 16.3837H67.8577C67.9843 16.3837 68.0905 16.2879 68.0991 16.1618C68.1243 15.7936 68.1243 15.4457 68.1243 15.4457C68.1243 12.392 65.9838 9.94903 62.7511 9.94903C59.4748 9.94903 57.0503 12.1957 57.0503 15.7075V15.8165ZM59.715 14.5296C59.8024 13.2209 61.1348 12.1739 62.7511 12.1739C64.2582 12.1739 65.4596 13.2427 65.4596 14.5296H59.715Z",fill:"#231842"}),o.createElement("mask",{id:"mask0_1087_64210",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:67,y:0,width:14,height:11},o.createElement("path",{d:"M80.6992 6.62529C80.8533 6.5904 80.9999 6.70746 81 6.86552V9.20927C80.9999 9.32421 80.9205 9.42394 80.8086 9.44951L74.3604 10.9095C74.2063 10.9444 74.0596 10.8273 74.0596 10.6692V8.32549C74.0598 8.21048 74.1398 8.11064 74.252 8.08525L80.6992 6.62529ZM80.6992 2.52959C80.8532 2.49472 80.9998 2.61189 81 2.76982V5.11357C81 5.22876 80.9199 5.32838 80.8076 5.35381L67.4199 8.38603C67.2659 8.42093 67.1191 8.3039 67.1191 8.1458V5.80205C67.1193 5.68707 67.1985 5.58729 67.3105 5.56181L80.6992 2.52959ZM73.7588 0.00614927C73.9127 -0.0286322 74.0593 0.0885399 74.0596 0.246384V2.59013C74.0596 2.70532 73.9794 2.80495 73.8672 2.83037L67.4199 4.29131C67.2659 4.3262 67.1191 4.2082 67.1191 4.05009V1.70732C67.1191 1.59224 67.1985 1.49263 67.3105 1.46709L73.7588 0.00614927Z",fill:"white"})),o.createElement("g",{mask:"url(#mask0_1087_64210)"},o.createElement("path",{d:"M195.101 -16.1221H60.5972C55.0743 -16.1221 50.5972 -11.6449 50.5972 -6.12207V12.4509C50.5972 17.9738 55.0743 22.4509 60.5972 22.4509H195.101C200.624 22.4509 205.101 17.9738 205.101 12.4509V-6.12207C205.101 -11.6449 200.624 -16.1221 195.101 -16.1221Z",fill:"#171633"}),o.createElement("mask",{id:"mask1_1087_64210",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:59,y:-15,width:138,height:37},o.createElement("path",{d:"M186.651 -14.6904H69.0464C63.5235 -14.6904 59.0464 -10.2133 59.0464 -4.69043V11.6978C59.0464 17.2206 63.5236 21.6978 69.0464 21.6978H186.651C192.174 21.6978 196.651 17.2206 196.651 11.6978V-4.69043C196.651 -10.2133 192.174 -14.6904 186.651 -14.6904Z",fill:"#171633"})),o.createElement("g",{mask:"url(#mask1_1087_64210)"},o.createElement("g",{filter:"url(#filter0_f_1087_64210)"},o.createElement("path",{d:"M86.2045 7.2706C84.5285 10.7547 77.0335 14.3087 71.7699 12.5857C66.5062 10.8627 61.4033 8.34652 63.0697 3.45007C64.8571 -1.80154 73.2572 -6.3992 77.8392 -0.03138C82.4213 6.33644 87.8805 3.78649 86.2045 7.2706Z",fill:"url(#paint0_linear_1087_64210)"})))),o.createElement("defs",null,o.createElement("filter",{id:"filter0_f_1087_64210",x:54.7485,y:-11.1299,width:39.7656,height:32.1641,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),o.createElement("feGaussianBlur",{stdDeviation:4,result:"effect1_foregroundBlur_1087_64210"})),o.createElement("linearGradient",{id:"paint0_linear_1087_64210",x1:67.2699,y1:1.65736,x2:81.8918,y2:10.2204,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#171633"}),o.createElement("stop",{offset:.44,stopColor:"#4535FF"}),o.createElement("stop",{offset:1,stopColor:"#FF579E"})))),Da=e=>o.createElement("svg",{width:81,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},o.createElement("path",{d:"M80.7 6.61c.153-.035.3.082.3.24v2.338c0 .115-.08.214-.192.24l-6.448 1.457a.247.247 0 01-.3-.24V8.305c0-.114.08-.213.192-.239l6.447-1.457zm0-4.086c.153-.035.3.082.3.24V5.1c0 .115-.08.215-.192.24L67.42 8.368a.247.247 0 01-.3-.24V5.789c0-.115.08-.215.191-.24L80.7 2.524zM73.758.007c.154-.035.3.081.3.239v2.339c0 .114-.079.214-.19.24l-6.45 1.456a.247.247 0 01-.3-.24V1.703c0-.115.08-.214.192-.24L73.76.008zM7.06 19.79c0 .08.039.155.104.2 1.295.897 2.944 1.476 4.986 1.476 3.604 0 5.482-1.963 5.482-4.319 0-2.443-1.42-3.643-4.15-4.842-1.703-.764-3.276-1.287-3.276-2.509 0-.916.874-1.57 2.446-1.57 1.315 0 2.323.355 3.204.995.171.124.422.008.422-.203V6.916a.24.24 0 00-.108-.202c-1.006-.65-2.213-.975-3.583-.975-2.927 0-5.111 1.549-5.111 4.057 0 2.378 1.769 3.534 4.04 4.494 2.381 1.003 3.408 1.505 3.408 2.857 0 .96-.983 1.876-2.927 1.876-1.858 0-3.338-.65-4.503-1.634-.166-.14-.433-.026-.433.192v2.21zM19.086 15.686c0 3.359 2.6 5.824 6.007 5.824 1.309 0 2.537-.347 3.446-1.04a.238.238 0 00.092-.19v-1.916c0-.218-.268-.333-.44-.2-.897.696-1.897.968-2.945.968-2.054 0-3.56-1.461-3.56-3.446s1.506-3.447 3.56-3.447c1.049 0 2.05.29 2.948.978.172.131.437.016.437-.2v-1.923a.238.238 0 00-.095-.192c-.909-.674-2.135-1.04-3.443-1.04-3.408 0-6.007 2.465-6.007 5.824zM30.573 20.958c0 .136.11.246.246.246h2.107c.136 0 .246-.11.246-.246v-5.534c0-1.81 1.158-2.945 2.97-2.945.288 0 .555.021.793.056a.26.26 0 00.3-.25V10.26a.227.227 0 00-.2-.23 5.786 5.786 0 00-.586-.037c-1.573 0-2.753.72-3.277 1.854v-1.39a.246.246 0 00-.246-.246h-2.107a.246.246 0 00-.246.246v10.501zM40.394 8.924c.83 0 1.551-.676 1.551-1.549 0-.872-.72-1.548-1.55-1.548-.853 0-1.573.676-1.573 1.548 0 .873.72 1.549 1.572 1.549zm-1.31 12.034c0 .136.11.246.246.246h2.129c.136 0 .246-.11.246-.246V10.457a.246.246 0 00-.246-.246H39.33a.246.246 0 00-.246.246v10.501zM44.011 20.958c0 .136.11.246.246.246h2.129c.136 0 .246-.11.246-.246v-1.346c.372 1.025 1.66 1.832 3.517 1.832 3.101 0 5.504-2.486 5.504-5.736 0-3.25-2.403-5.737-5.504-5.737-1.857 0-3.145.807-3.517 1.832V6.437a.246.246 0 00-.3-.24l-2.129.481a.246.246 0 00-.192.24v14.04zm2.425-5.25c0-1.92 1.463-3.36 3.363-3.36 1.857 0 3.255 1.44 3.255 3.36 0 1.919-1.398 3.359-3.255 3.359-1.9 0-3.363-1.44-3.363-3.36zM56.99 15.816c0 3.469 2.359 5.715 5.81 5.715 1.856 0 2.96-.366 3.957-1.04a.241.241 0 00.106-.2V18.54c0-.215-.264-.335-.442-.215-.685.46-1.808.917-3.512.917-1.966 0-3.232-1.112-3.32-2.857h8.208a.24.24 0 00.242-.222c.025-.368.025-.716.025-.716 0-3.054-2.14-5.497-5.373-5.497-3.277 0-5.701 2.247-5.701 5.758v.11zm2.665-1.286c.087-1.31 1.42-2.356 3.036-2.356 1.507 0 2.708 1.069 2.708 2.356h-5.744z",fill:"#fff"})),Ia="/assets/light-background-hero.svg",en=(e,t)=>{var p,c,m,h,x;const n=(c=(p=e==null?void 0:e.active_organization)==null?void 0:p.super_organization)==null?void 0:c.allow_openai,a=(e==null?void 0:e.date_joined)<"2024-11-23T00:00:00.000Z",s=((x=(h=(m=e==null?void 0:e.active_organization)==null?void 0:m.super_organization)==null?void 0:h.plan)==null?void 0:x.name)==="free",l=!!(t!=null&&t.first_created_scribe_id),d=!s||a||l,{audioTranscription:i,voiceTranscriptionExpSplitButton:u}=O(re),f=u!==void 0;return o.useEffect(()=>{i!==void 0&&n&&!f&&Mr(a?"audio_transcription":"audio_transcription_hide_toggle",!!i)},[i,n,a]),i&&d&&n},tt=({onClick:e,hasViewerLicense:t,iconClassName:n,...a})=>{const s=l=>{t&&R("viewer_click_sidekick_start_capture"),e==null||e(l)};return r.jsx(F,{"data-testid":"extensionStartRecordingButton",size:"huge",icon:ke,iconProps:{className:n||"text-indigo-400"},onClick:s,...a,children:"Start Capture"})},Aa="https://scribehow.com/workspace?show_pro_features=true",tn=e=>`${Aa}&ext_location=${e}`,Oa=e=>{e.preventDefault(),R("show_pro_features_workspace_page",{location:"extension_dropdown"}),window.open(tn("extension_dropdown"))},za=({onClick:e,isSidekickRefreshVersion:t=!1})=>r.jsxs("div",{className:"group relative mt-2 h-8 w-full max-w-[600px] pb-8",children:[r.jsx("div",{className:"absolute bottom-0 left-0 right-0 top-0 blur",...!t&&{style:{background:"linear-gradient(91.36deg, #FFFFFF 1.16%, #EEF2FF 33.21%, #FDF2F8 69.84%, #FFFFFF 98.84%)"}}}),r.jsxs(Lt,{children:[r.jsx(Dt,{children:r.jsxs("button",{onClick:e,className:"absolute bottom-0 left-0 right-0 top-0 mx-auto flex w-10/12 cursor-pointer items-center justify-center gap-1 bg-transparent duration-300 ease-out group-hover:scale-105",children:[r.jsx(P,{icon:la,className:"h-4 w-4 text-fuchsia-300 transition-all"}),r.jsx("span",{...t?{className:"text-brand-50"}:{className:"bg-get-pro-gradient bg-clip-text text-xs font-bold leading-5 text-transparent transition-all",style:{background:"linear-gradient(90deg, #4F46E5 0%, #D946EF 100%)",backgroundClip:"text"}},children:"Get Scribe Pro for Desktop"})]})}),r.jsx(It,{side:"bottom",variant:"compact",className:"h-fit w-52 flex-col py-1 pl-3 pr-5",sideOffset:-12,children:"Capture guides on desktop apps, edit screenshots and more!"})]})]}),nn=({isSidekickRefreshVersion:e=!1})=>r.jsx(za,{onClick:Oa,isSidekickRefreshVersion:e}),rn=()=>r.jsxs("div",{className:"flex justify-between items-center mb-0",children:[r.jsx(F,{variant:"ghost",className:"bg-transparent dark:bg-transparent pl-0 pointer-events-none",children:"Pins"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(F,{onClick:()=>{$("pin_entry_point_clicked",{location:"sidekick"}),chrome.runtime.sendMessage({messageType:"startDropPin"})},icon:Zr,variant:"secondary",size:"small",children:"Pin"}),r.jsx(F,{onClick:()=>{chrome.runtime.sendMessage({messageType:"clearPins"})},icon:zt,variant:"secondary",size:"small",children:"Clear Pins"})]})]}),Va=({pin:e,onHover:t})=>r.jsxs("div",{className:"relative flex gap-3 py-4 hover:bg-[linear-gradient(90deg,_#FFF_-3.33%,_#F8FAFC_17.99%,_#F8FAFC_81.47%,#FFF_102.92%)] w-full",onMouseEnter:()=>t(e.id),onMouseLeave:()=>t(null),children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"relative z-[1] flex h-6 w-6 flex-shrink-0 items-center justify-center overflow-hidden rounded-full bg-gradient-to-b from-white to-white/80 transition duration-300 shadow-lg",children:r.jsx(P,{icon:ca,style:{color:e.pin_color}})})}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("span",{className:"text-slate-800 text-sm",children:e.description||"Check out this section of content. It will show you how to manage your themes..."}),r.jsx("span",{className:"text-slate-500 text-xs",children:"How to create a theme in Google"})]})]}),$a=()=>{const{pins:e}=O(Pr);o.useEffect(()=>{chrome.runtime.sendMessage({messageType:"fetchPins"})},[]);const t=n=>{chrome.runtime.sendMessage({messageType:"setHoveredPin",pinId:n})};return e.length===0?r.jsxs(r.Fragment,{children:[r.jsx(rn,{}),r.jsx("div",{className:"flex h-full w-full items-center justify-center",children:r.jsx("div",{className:"text-sm text-gray-500 text-center py-8",children:"No pins yet. Click the Pin button to get started."})})]}):r.jsxs(r.Fragment,{children:[r.jsx(rn,{}),r.jsx("ul",{className:"p-0 flex flex-col divide-y divide-slate-200",children:e.map(n=>r.jsx("li",{style:{listStyle:"none"},children:r.jsx(Va,{pin:n,onHover:t})},n.id))})]})},Ga=({created:e,iconAndColorUpdated:t,appTags:n,logoAppTag:a})=>{const s=new Date("2023-02-08T22:00:00Z"),l=new Date(e)>s;let d="custom-icon";return(a!=null&&a.id||l&&!t&&(n==null?void 0:n.length)>0)&&(d="app-logo"),d},Ba=e=>{var t,n,a;if((t=e==null?void 0:e.logo_app_tag)!=null&&t.id)return e==null?void 0:e.logo_app_tag;if((n=e==null?void 0:e.app_tags)!=null&&n.length)return(a=e==null?void 0:e.app_tags)==null?void 0:a[0]},Ua=({colorToUse:e,icon:t,spin:n,useSecondaryColor:a,shadowColorToUse:s})=>r.jsx("div",{className:w("flex h-[88px] w-[88px] items-center justify-center rounded-full bg-gradient-to-b shadow-[0px_12px_20px_-18px]",`${K[e].gradientFrom} ${K[e].gradientTo}`,s),"data-testid":"picker-custom-icon",children:r.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-white",children:r.jsx(qe,{icon:t,spin:n,variant:"duotone",size:32,className:w("fill-current",K[e].paleIcon),secondaryColor:a?K[e].secondary:void 0})})}),Ha=({classes:e,appIconName:t,iconUrl:n})=>{const[a,s]=o.useState(!1),l=w("rounded mix-blend-multiply",{hidden:!a});return r.jsxs("div",{className:"relative flex h-[88px] w-[88px] flex-col items-center justify-center",children:[r.jsx("div",{className:w("relative z-10 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-b from-white to-slate-50 shadow-[0px_2px_6px_rgba(30,41,59,0.04),_0px_1px_2px_rgba(30,41,59,0.06)] backdrop-blur-[2px]",e),children:r.jsx("img",{src:n,onLoad:()=>{s(!0)},className:l,width:40,height:40,"data-testid":"app-icon-image",alt:`${t} logo`})}),r.jsx("div",{className:"absolute flex h-[88px] w-[88px] items-center justify-center overflow-hidden rounded-full shadow-[0px_4px_16px_-10px_rgba(15,_23,_42,_0.4)]",children:r.jsx("img",{alt:"","aria-hidden":!0,src:n,className:"opacity-50 blur-md",width:132,"data-testid":"glow-image",height:132})})]})},Wa=({classes:e,blurClasses:t,appIconName:n,size:a,isFlat:s,shadowed:l=!1,blurSM:d,iconUrl:i})=>{const[u,f]=o.useState(!1),p=w("rounded mix-blend-multiply",{hidden:!u});return r.jsxs("div",{className:"relative h-fit w-fit",children:[r.jsx("div",{className:w("relative z-[1] flex items-center justify-center rounded-full bg-gradient-to-b from-white to-slate-50",e,{"shadow-[0px_2px_6px_rgba(30,41,59,0.04),_0px_1px_2px_rgba(30,41,59,0.06)]":!s&&!l,"shadow-lg":l&&!s}),children:r.jsx("img",{src:i,onLoad:()=>{f(!0)},className:p,width:a,height:a,"data-testid":"app-icon-image",alt:`${n} logo`})}),!s&&!l&&r.jsx("img",{alt:"","aria-hidden":!0,src:i,className:w("absolute bottom-0 left-0 right-0 m-auto rounded-full mix-blend-multiply",{"blur-sm":d,blur:!d,hidden:s},t),width:a,"data-testid":"glow-image",height:a})]})},Ka=()=>{const e=["gray","pink","purple","blue","cyan","green","yellow"];return e[Math.floor(Math.random()*e.length)]},K={gray:{bold:"bg-slate-500",pale:"bg-slate-100",saturatedPale:"bg-slate-100",paleBorder:"border-slate-100",paleIcon:"text-slate-500",secondary:"bg-slate-300",gradientFrom:"from-slate-200",gradientTo:"to-slate-50"},blue:{bold:"bg-blue-500",pale:"bg-blue-50",saturatedPale:"bg-blue-100",paleBorder:"border-blue-100",paleIcon:"text-blue-500",secondary:"bg-blue-300",gradientFrom:"from-blue-200",gradientTo:"to-blue-50"},cyan:{bold:"bg-cyan-500",pale:"bg-cyan-50",saturatedPale:"bg-cyan-100",paleBorder:"border-cyan-100",paleIcon:"text-cyan-500",secondary:"bg-cyan-300",gradientFrom:"from-cyan-200",gradientTo:"to-cyan-50"},green:{bold:"bg-green-500",pale:"bg-green-50",saturatedPale:"bg-green-100",paleBorder:"border-green-100",paleIcon:"text-green-500",secondary:"bg-green-300",gradientFrom:"from-green-200",gradientTo:"to-green-50"},pink:{bold:"bg-pink-500",pale:"bg-pink-50",saturatedPale:"bg-pink-100",paleBorder:"border-pink-100",paleIcon:"text-pink-500",secondary:"bg-pink-300",gradientFrom:"from-pink-200",gradientTo:"to-pink-50"},yellow:{bold:"bg-yellow-500",pale:"bg-yellow-50",saturatedPale:"bg-yellow-100",paleBorder:"border-yellow-100",paleIcon:"text-yellow-500",secondary:"bg-yellow-300",gradientFrom:"from-yellow-200",gradientTo:"to-yellow-50"},purple:{bold:"bg-purple-500",pale:"bg-purple-50",saturatedPale:"bg-purple-100",paleBorder:"border-purple-100",paleIcon:"text-purple-500",secondary:"bg-purple-300",gradientFrom:"from-purple-200",gradientTo:"to-purple-50"}},an={gray:"shadow-slate-900",pink:"shadow-pink-900",purple:"shadow-purple-900",blue:"shadow-blue-900",cyan:"shadow-cyan-900",green:"shadow-green-900",yellow:"shadow-yellow-900"},sn=({document:e,variant:t="bold",size:n,spin:a,editor:s=!1,shadowed:l=!1,coloredShadow:d=!1,dropShadowIcon:i=!1,tinted:u=!0,classes:f="",shapeSquare:p=!1,useSecondaryColor:c=!1,knowledgePageSearchResult:m=!1,isPickerIcon:h=!1,isAppLogo:x=!1,isFlat:g=!1,blurSM:v=!1,...j})=>{const{created:E=new Date,icon_and_color_updated:C=!1,icon:_,icon_color:N}=e||{},M=Ga({created:E instanceof Date?E:new Date(E),iconAndColorUpdated:C,appTags:(e==null?void 0:e.app_tags)||[],logoAppTag:(e==null?void 0:e.logo_app_tag)||null}),y=o.useMemo(()=>N||Ka(),[N]),L=Ba(e),A=L==null?void 0:L.name,I=_||"file";let G="text-white";return(t==="pale"||t==="saturatedPale"||t==="iconGlow"||t==="whiteFade")&&(G=K[y].paleIcon),(x||M==="app-logo")&&h?r.jsx(Ha,{classes:f,appIconName:A||"",iconUrl:L==null?void 0:L.icon_url}):!x&&h?r.jsx(Ua,{colorToUse:y,shadowColorToUse:an[y],icon:I,spin:a||!1,useSecondaryColor:c}):(M==="app-logo"||x)&&!h?r.jsx(Wa,{classes:f,size:n||24,appIconName:A||"",isFlat:g,shadowed:l,blurSM:v,iconUrl:L==null?void 0:L.icon_url}):r.jsxs("div",{className:"relative",children:[r.jsxs("div",{...j,className:w("relative z-[1] flex flex-shrink-0 items-center justify-center overflow-hidden transition duration-300",u&&t!=="iconGlow"&&t!=="whiteFade"?K[y][t]:"",m&&`border-2 ${K[y].paleBorder}`,{"bg-white":!u&&t!=="iconGlow","bg-gradient-to-b from-white to-white/80 shadow-[0px_2px_6px_rgba(30,41,59,0.04),_0px_1px_2px_rgba(30,41,59,0.06)]":t==="iconGlow","bg-gradient-to-b from-white to-white/80":t==="whiteFade","shadow-lg":l,"h-12 w-12":!f||!f.includes("w-")&&!f.includes("h-"),"rounded-full":!p&&!f.includes("rounded"),"rounded-lg":p&&!f.includes("rounded")},d?an[y]:"",f),"data-testid":"document-icon",children:[r.jsx(qe,{icon:I,spin:a,variant:"duotone",size:n||24,className:w("fill-current",G,{"drop-shadow-lg":i}),secondaryColor:c?K[y].secondary:void 0}),s&&r.jsx("div",{className:"absolute bottom-0 flex h-1/4 w-full items-center justify-center bg-black opacity-70",children:r.jsx("div",{className:w("absolute text-xs font-semibold leading-4 text-white",{"text-xxs":n&&n<24}),children:"Edit"})})]}),t==="iconGlow"&&r.jsx(qe,{icon:I,spin:a,variant:"duotone",size:n||24,className:w("absolute bottom-0 left-0 right-0 z-0 mx-auto fill-current mix-blend-multiply",v?"blur-sm":"blur",G),secondaryColor:c?K[y].secondary:void 0})]})},Za={blue:"bg-blue-500",cyan:"bg-cyan-400",emerald:"bg-green-500",fuchsia:"bg-fuchsia-400",darkfuchsia:"bg-fuchsia-600",indigo:"bg-indigo-500",darkindigo:"bg-indigo-600",lime:"bg-lime-500",orange:"bg-orange-500",pink:"bg-pink-500",rose:"bg-rose-400",sky:"bg-sky-500",slate:"bg-slate-100",violet:"bg-purple-300",yellow:"bg-yellow-400"},qa={blue:"from-blue-200",indigo:"from-indigo-300",cyan:"from-cyan-200",emerald:"from-green-200",yellow:"from-yellow-200",orange:"from-orange-200",rose:"from-rose-200",fuchsia:"from-fuchsia-200",violet:"from-purple-200",slate:"from-slate-100",pink:"from-pink-200",sky:"from-sky-200",lime:"from-lime-200",darkfuchsia:"from-fuchsia-300",darkindigo:"from-indigo-300"},Xa={blue:"via-blue-200",indigo:"via-indigo-300",cyan:"via-cyan-200",emerald:"via-green-200",yellow:"via-yellow-200",orange:"via-orange-200",rose:"via-rose-200",fuchsia:"via-fuchsia-200",violet:"via-purple-200",slate:"via-slate-100",pink:"via-pink-200",sky:"via-sky-200",lime:"via-lime-200",darkfuchsia:"via-fuchsia-300",darkindigo:"via-indigo-300"},Ya={blue:"to-blue-200",indigo:"to-indigo-300",cyan:"to-cyan-200",emerald:"to-green-200",yellow:"to-yellow-200",orange:"to-orange-200",rose:"to-rose-200",fuchsia:"to-fuchsia-200",violet:"to-purple-200",slate:"to-slate-100",pink:"to-pink-200",sky:"to-sky-200",lime:"to-lime-200",darkfuchsia:"to-fuchsia-300",darkindigo:"to-indigo-300"};Rr.omit(Za,["slate"]);const on=({isColorfulHeaderEnabled:e,colorfulHeader:t,className:n,size:a="default"})=>{const s=o.useMemo(()=>e?t==null?void 0:t.split(","):[],[t,e]),l=o.useMemo(()=>{if(!e||(s==null?void 0:s.length)!==3)return"";const[d,i,u]=s;return`${qa[d]} ${Xa[i]} ${Ya[u]}`},[s,e]);return r.jsxs("div",{className:w("relative flex items-end justify-center overflow-hidden rounded shadow-[0px_0px_2px_0px_rgba(33,43,57,0.08)_inset]",{"h-4 w-4":a==="small","h-6 w-6":a==="medium","h-9 w-9":a==="default"},n),"data-testid":"page-result-icon",children:[r.jsx("div",{className:`absolute left-0 top-0 h-6 w-full ${e&&s.length===3?`bg-gradient-to-r ${l}`:"bg-slate-200"}`,...e&&(s==null?void 0:s.length)===1&&{style:{backgroundImage:`linear-gradient(180deg, rgba(248, 250, 252, 0.5) 0%, #F8FAFC 100%), linear-gradient(to bottom, #${s[0]} 100%, #${s[0]} 0)`}}}),r.jsx("div",{className:"absolute left-0 top-0 h-full w-full bg-gradient-to-b from-transparent to-white"}),r.jsxs("div",{className:w("z-0 flex flex-col items-start justify-between bg-white shadow",{"h-3 w-3 rounded-[2px] px-[1px] py-[2px]":a==="small","h-[18px] w-5 rounded-[3px] px-[5px] py-[0px]":a==="medium","h-7 w-7 rounded-t px-1 py-1.5":a==="default"}),children:[r.jsx("div",{className:w("rounded-sm bg-slate-300",{"h-[2px] w-[10px]":a==="small","h-[2px] w-[14px]":a==="medium","h-[3px] w-[20px]":a==="default"})}),r.jsx("div",{className:w("rounded-sm bg-slate-200",{"h-[2px] w-[7px]":a==="small","h-[2px] w-[10px]":a==="medium","h-[3px] w-[17px]":a==="default"})}),r.jsx("div",{className:w("rounded-sm bg-slate-200",{"h-[2px] w-[10px]":a==="small","h-[2px] w-[14px]":a==="medium","h-[3px] w-[20px]":a==="default"})}),r.jsx("div",{className:w("rounded-sm bg-slate-200",{"h-[2px] w-[7px]":a==="small","h-[2px] w-[10px]":a==="medium","h-[3px] w-[17px]":a==="default"})})]})]})},nt="horizontal",Ja=["horizontal","vertical"],ln=o.forwardRef((e,t)=>{const{decorative:n,orientation:a=nt,...s}=e,l=cn(a)?a:nt,d=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return o.createElement(z.div,b({"data-orientation":l},d,s,{ref:t}))});ln.propTypes={orientation(e,t,n){const a=e[t],s=String(a);return a&&!cn(a)?new Error(Qa(s,n)):null}};function Qa(e,t){return`Invalid prop \`orientation\` of value \`${e}\` supplied to \`${t}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${nt}\`.`}function cn(e){return Ja.includes(e)}const es=ln,ts=o.forwardRef((e,t)=>{const{pressed:n,defaultPressed:a=!1,onPressedChange:s,...l}=e,[d=!1,i]=Ne({prop:n,onChange:s,defaultProp:a});return o.createElement(z.button,b({type:"button","aria-pressed":d,"data-state":d?"on":"off","data-disabled":e.disabled?"":void 0},l,{ref:t,onClick:T(e.onClick,()=>{e.disabled||i(!d)})}))}),Re="ToggleGroup",[dn,un]=Ee(Re,[oe]),pn=oe(),ns=S.forwardRef((e,t)=>{const{type:n,...a}=e;if(n==="single"){const s=a;return S.createElement(rs,b({},s,{ref:t}))}if(n==="multiple"){const s=a;return S.createElement(as,b({},s,{ref:t}))}throw new Error(`Missing prop \`type\` expected on \`${Re}\``)}),[mn,fn]=dn(Re),rs=S.forwardRef((e,t)=>{const{value:n,defaultValue:a,onValueChange:s=()=>{},...l}=e,[d,i]=Ne({prop:n,defaultProp:a,onChange:s});return S.createElement(mn,{scope:e.__scopeToggleGroup,type:"single",value:d?[d]:[],onItemActivate:i,onItemDeactivate:S.useCallback(()=>i(""),[i])},S.createElement(hn,b({},l,{ref:t})))}),as=S.forwardRef((e,t)=>{const{value:n,defaultValue:a,onValueChange:s=()=>{},...l}=e,[d=[],i]=Ne({prop:n,defaultProp:a,onChange:s}),u=S.useCallback(p=>i((c=[])=>[...c,p]),[i]),f=S.useCallback(p=>i((c=[])=>c.filter(m=>m!==p)),[i]);return S.createElement(mn,{scope:e.__scopeToggleGroup,type:"multiple",value:d,onItemActivate:u,onItemDeactivate:f},S.createElement(hn,b({},l,{ref:t})))}),[ss,os]=dn(Re),hn=S.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:a=!1,rovingFocus:s=!0,orientation:l,dir:d,loop:i=!0,...u}=e,f=pn(n),p=Xe(d),c={role:"group",dir:p,...u};return S.createElement(ss,{scope:n,rovingFocus:s,disabled:a},s?S.createElement(Ye,b({asChild:!0},f,{orientation:l,dir:p,loop:i}),S.createElement(z.div,b({},c,{ref:t}))):S.createElement(z.div,b({},c,{ref:t})))}),rt="ToggleGroupItem",is=S.forwardRef((e,t)=>{const n=fn(rt,e.__scopeToggleGroup),a=os(rt,e.__scopeToggleGroup),s=pn(e.__scopeToggleGroup),l=n.value.includes(e.value),d=a.disabled||e.disabled,i={...e,pressed:l,disabled:d},u=S.useRef(null);return a.rovingFocus?S.createElement(Je,b({asChild:!0},s,{focusable:!d,active:l,ref:u}),S.createElement(gn,b({},i,{ref:t}))):S.createElement(gn,b({},i,{ref:t}))}),gn=S.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:a,...s}=e,l=fn(rt,n),d={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i=l.type==="single"?d:void 0;return S.createElement(ts,b({},i,s,{ref:t,onPressedChange:u=>{u?l.onItemActivate(a):l.onItemDeactivate(a)}}))}),ls=ns,cs=is,xn="Toolbar",[ds,ec]=Ee(xn,[oe,un]),vn=oe(),bn=un(),[us,wn]=ds(xn),ps=o.forwardRef((e,t)=>{const{__scopeToolbar:n,orientation:a="horizontal",dir:s,loop:l=!0,...d}=e,i=vn(n),u=Xe(s);return o.createElement(us,{scope:n,orientation:a,dir:u},o.createElement(Ye,b({asChild:!0},i,{orientation:a,dir:u,loop:l}),o.createElement(z.div,b({role:"toolbar","aria-orientation":a,dir:u},d,{ref:t}))))}),ms="ToolbarSeparator",fs=o.forwardRef((e,t)=>{const{__scopeToolbar:n,...a}=e,s=wn(ms,n);return o.createElement(es,b({orientation:s.orientation==="horizontal"?"vertical":"horizontal"},a,{ref:t}))}),yn=o.forwardRef((e,t)=>{const{__scopeToolbar:n,...a}=e,s=vn(n);return o.createElement(Je,b({asChild:!0},s,{focusable:!e.disabled}),o.createElement(z.button,b({type:"button"},a,{ref:t})))}),hs="ToolbarToggleGroup",gs=o.forwardRef((e,t)=>{const{__scopeToolbar:n,...a}=e,s=wn(hs,n),l=bn(n);return o.createElement(ls,b({"data-orientation":s.orientation,dir:s.dir},l,a,{ref:t,rovingFocus:!1}))}),xs=o.forwardRef((e,t)=>{const{__scopeToolbar:n,...a}=e,s=bn(n),l={__scopeToolbar:e.__scopeToolbar};return o.createElement(yn,b({asChild:!0},l),o.createElement(cs,b({},s,a,{ref:t})))}),vs=ps,bs=fs,ws=yn,ys=gs,Cs=xs,Cn=o.forwardRef(({disableGroupHover:e,className:t,...n},a)=>r.jsx(vs,{className:w("justify-right flex h-[26px] items-center overflow-hidden rounded bg-white/80 text-slate-700/60 shadow ring-1 ring-slate-700/15 backdrop-blur-sm transition focus-within:opacity-100 focus:opacity-100 peer-focus:opacity-100",e?"":"group-hover:opacity-100",t),"data-testid":"minimenu",...n,ref:a})),at=o.forwardRef(({icon:e,className:t,children:n,...a},s)=>r.jsxs(ws,{className:w("group flex h-[26px] min-w-[28px] cursor-pointer items-center justify-center bg-white/80 p-0 px-2 text-slate-400 hover:bg-white hover:text-slate-900 focus:outline-slate-300 focus:ring-opacity-50 data-[state=open]:text-slate-900",t),...a,ref:s,children:[e&&r.jsx("div",{className:"relative h-4 w-4",children:r.jsx(P,{icon:e,className:w("absolute bottom-0 left-0 right-0 top-0 m-auto transition-all",e.iconName==="ellipsis"?"text-base":"text-sm")})}),n]}));o.forwardRef(({icon:e,iconToggled:t,className:n,children:a,...s},l)=>r.jsxs(Cs,{className:w("group flex h-[26px] w-[28px] cursor-pointer items-center justify-center bg-white/80 p-0 text-slate-400 transition-all duration-75 hover:bg-white hover:text-slate-900 focus:outline-slate-300 focus:ring-opacity-50 data-[disabled]:pointer-events-none data-[disabled]:cursor-not-allowed data-[state=on]:text-slate-900 data-[disabled]:opacity-50",n),...s,ref:l,children:[e&&r.jsxs("div",{className:"relative h-4 w-4",children:[r.jsx(P,{icon:e,className:w("absolute bottom-0 left-0 right-0 top-0 m-auto text-sm transition-all duration-75")}),t&&r.jsx(P,{icon:t,className:"absolute bottom-0 left-0 right-0 top-0 m-auto text-sm opacity-0 transition-all duration-75 group-data-[state=on]:opacity-100"})]}),a]})),o.forwardRef(({className:e,...t},n)=>r.jsx(ys,{className:w("flex",e),...t,ref:n}));const jn=o.forwardRef(({className:e,...t},n)=>r.jsx(bs,{className:w("h-[26px] w-[1px] bg-slate-700/15",e),...t,ref:n,"data-testid":"minimenu-separator"}));function js({parentRef:e,miniMenuConfig:t}){const[n,a]=o.useState(new Set),[s,l]=o.useState(!1);o.useEffect(()=>{const i=e.current;if(!i)return;const u=()=>l(!0),f=()=>l(!1);return i.addEventListener("mouseenter",u),i.addEventListener("mouseleave",f),()=>{i.removeEventListener("mouseenter",u),i.removeEventListener("mouseleave",f)}},[e]);const d=(i,u,f)=>{i.onClick&&i.onClick(f),i.iconPostClick&&(a(p=>new Set(p).add(u)),setTimeout(()=>{a(p=>{const c=new Set(p);return c.delete(u),c})},2e3))};return s?r.jsx(Cn,{className:"absolute right-0 top-4",children:t.map((i,u)=>{const f=n.has(u)&&i.iconPostClick?i.iconPostClick:i.icon;return u===t.length-1?r.jsx(at,{icon:f,onClick:p=>d(i,u,p),"aria-label":i.label},i.label):r.jsxs(r.Fragment,{children:[r.jsx(at,{icon:f,onClick:p=>d(i,u,p),"aria-label":i.label},i.label),r.jsx(jn,{})]})})}):null}const _s=({key:e,document:t,metadata:n,miniMenuConfig:a,highlightedText:s,isColorfulHeaderEnabled:l,colorfulHeader:d,onClick:i,disableHover:u=!1})=>{const f=S.useRef(null),p=S.useMemo(()=>{const c=t.description;if(!s||!c||!c.includes(s))return c;const m=c.toLowerCase().indexOf(s.toLowerCase()),h=Math.max(0,m-20);let x=c.substring(h,c.length);return x=h===0?x:"..."+x,x.split(new RegExp(`(${s})`,"gi")).map((g,v)=>g.toLowerCase()===s.toLowerCase()?r.jsx("span",{className:"bg-indigo-50 px-[2px] rounded-sm height leading-4",children:g}):g)},[t.description,s]);return r.jsxs("div",{ref:f,onClick:i,role:i?"button":void 0,tabIndex:i?0:void 0,"aria-label":i?`Open ${t.name}`:void 0,onKeyDown:i?c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),i())}:void 0,className:w("relative flex gap-3 py-4 w-full",{"hover:bg-[linear-gradient(90deg,_#FFF_-3.33%,_#F8FAFC_17.99%,_#F8FAFC_81.47%,#FFF_102.92%)]":!u,"items-center":!t.description&&!(n!=null&&n.length),"cursor-pointer":i}),children:[t.type==="scribe"?r.jsx(sn,{document:t,size:12,variant:"iconGlow",classes:"h-6 w-6"}):r.jsx(on,{isColorfulHeaderEnabled:l,colorfulHeader:d||"",size:"small"}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("span",{className:w("text-slate-800 text-sm",{"text-slate-500":t.viewed}),children:t.name}),t.description&&r.jsx("div",{className:w("text-slate-500 text-xs line-clamp-1",{"text-slate-400":t.viewed}),children:p}),n&&r.jsx("div",{className:"flex gap-2",children:n.map((c,m)=>m===n.length-1?r.jsx("span",{className:w("text-slate-500 text-xs",{"text-slate-400":t.viewed}),children:c},c):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:w("text-slate-500 text-xs",{"text-slate-400":t.viewed}),children:c},c),r.jsx("div",{className:"w-[1px] h-4 bg-slate-200"})]}))})]}),r.jsx(js,{parentRef:f,miniMenuConfig:a})]},e)},ks=()=>r.jsxs("div",{className:"flex animate-pulse px-5 py-4","data-testid":"sr-skel-loader",children:[r.jsx("div",{className:"mr-4 h-9 w-9 flex-none rounded-full bg-slate-100"}),r.jsxs("div",{className:"mr-8 max-w-full flex-1 overflow-hidden",children:[r.jsx("div",{className:"mb-1 mt-0 h-4 w-[80%] rounded bg-slate-100"}),r.jsx("div",{className:"mb-1.5 mt-0 h-3 rounded bg-slate-100"}),r.jsx("ul",{className:"m-0 flex list-none flex-row flex-wrap items-center p-0 text-xs text-slate-500",children:r.jsxs("li",{className:"flex items-center",children:[r.jsx(P,{icon:da,className:"mr-1 h-[14px] w-[14px] p-px text-slate-100"}),r.jsx("div",{className:"h-3 w-16 rounded bg-slate-100"})]})})]})]});function Es({cardItems:e,isLoading:t,numForSkeleton:n=12}){return t?Array(n).fill(void 0).map((a,s)=>r.jsx("div",{className:"border-b border-slate-200",children:r.jsx(ks,{})},s)):r.jsx("div",{className:"flex flex-col",children:e.map((a,s)=>r.jsxs("div",{children:[s>0&&r.jsx("div",{className:"px-6",children:r.jsx("div",{className:"border-t border-slate-200"})}),r.jsx("div",{className:"hover:bg-gradient-to-r hover:from-[#3ac3ff]/5 hover:to-[#5648fb]/5 cursor-pointer",children:r.jsx("div",{className:"px-6",children:r.jsx(_s,{disableHover:!0,onClick:a.onClick,document:a,metadata:a.metadata,miniMenuConfig:a.miniMenuConfig},a.id)})})]},a.id))})}let st=0;function _n(){o.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:kn()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:kn()),st++,()=>{st===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),st--}},[])}function kn(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const ot="focusScope.autoFocusOnMount",it="focusScope.autoFocusOnUnmount",En={bubbles:!1,cancelable:!0},Nn=o.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:l,...d}=e,[i,u]=o.useState(null),f=Se(s),p=Se(l),c=o.useRef(null),m=se(t,g=>u(g)),h=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(a){let g=function(C){if(h.paused||!i)return;const _=C.target;i.contains(_)?c.current=_:Y(c.current,{select:!0})},v=function(C){if(h.paused||!i)return;const _=C.relatedTarget;_!==null&&(i.contains(_)||Y(c.current,{select:!0}))},j=function(C){if(document.activeElement===document.body)for(const _ of C)_.removedNodes.length>0&&Y(i)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const E=new MutationObserver(j);return i&&E.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),E.disconnect()}}},[a,i,h.paused]),o.useEffect(()=>{if(i){Mn.add(h);const g=document.activeElement;if(!i.contains(g)){const v=new CustomEvent(ot,En);i.addEventListener(ot,f),i.dispatchEvent(v),v.defaultPrevented||(Ns(Rs(Sn(i)),{select:!0}),document.activeElement===g&&Y(i))}return()=>{i.removeEventListener(ot,f),setTimeout(()=>{const v=new CustomEvent(it,En);i.addEventListener(it,p),i.dispatchEvent(v),v.defaultPrevented||Y(g??document.body,{select:!0}),i.removeEventListener(it,p),Mn.remove(h)},0)}}},[i,f,p,h]);const x=o.useCallback(g=>{if(!n&&!a||h.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,j=document.activeElement;if(v&&j){const E=g.currentTarget,[C,_]=Ss(E);C&&_?!g.shiftKey&&j===_?(g.preventDefault(),n&&Y(C,{select:!0})):g.shiftKey&&j===C&&(g.preventDefault(),n&&Y(_,{select:!0})):j===E&&g.preventDefault()}},[n,a,h.paused]);return o.createElement(z.div,b({tabIndex:-1},d,{ref:m,onKeyDown:x}))});function Ns(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(Y(a,{select:t}),document.activeElement!==n)return}function Ss(e){const t=Sn(e),n=Tn(t,e),a=Tn(t.reverse(),e);return[n,a]}function Sn(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Tn(e,t){for(const n of e)if(!Ts(n,{upTo:t}))return n}function Ts(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ms(e){return e instanceof HTMLInputElement&&"select"in e}function Y(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Ms(e)&&t&&e.select()}}const Mn=Ps();function Ps(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Pn(e,t),e.unshift(t)},remove(t){var n;e=Pn(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function Pn(e,t){const n=[...e],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function Rs(e){return e.filter(t=>t.tagName!=="A")}var Fs=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},le=new WeakMap,Fe=new WeakMap,Le={},lt=0,Rn=function(e){return e&&(e.host||Rn(e.parentNode))},Ls=function(e,t){return t.map(function(n){if(e.contains(n))return n;var a=Rn(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Ds=function(e,t,n,a){var s=Ls(t,Array.isArray(e)?e:[e]);Le[n]||(Le[n]=new WeakMap);var l=Le[n],d=[],i=new Set,u=new Set(s),f=function(c){!c||i.has(c)||(i.add(c),f(c.parentNode))};s.forEach(f);var p=function(c){!c||u.has(c)||Array.prototype.forEach.call(c.children,function(m){if(i.has(m))p(m);else try{var h=m.getAttribute(a),x=h!==null&&h!=="false",g=(le.get(m)||0)+1,v=(l.get(m)||0)+1;le.set(m,g),l.set(m,v),d.push(m),g===1&&x&&Fe.set(m,!0),v===1&&m.setAttribute(n,"true"),x||m.setAttribute(a,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return p(t),i.clear(),lt++,function(){d.forEach(function(c){var m=le.get(c)-1,h=l.get(c)-1;le.set(c,m),l.set(c,h),m||(Fe.has(c)||c.removeAttribute(a),Fe.delete(c)),h||c.removeAttribute(n)}),lt--,lt||(le=new WeakMap,le=new WeakMap,Fe=new WeakMap,Le={})}},Fn=function(e,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=t||Fs(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live]"))),Ds(a,s,n,"aria-hidden")):function(){return null}},H=function(){return H=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},H.apply(this,arguments)};function Ln(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function Is(e,t,n){if(n||arguments.length===2)for(var a=0,s=t.length,l;a<s;a++)(l||!(a in t))&&(l||(l=Array.prototype.slice.call(t,0,a)),l[a]=t[a]);return e.concat(l||Array.prototype.slice.call(t))}var De="right-scroll-bar-position",Ie="width-before-scroll-bar",As="with-scroll-bars-hidden",Os="--removed-body-scroll-bar-size";function ct(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zs(e,t){var n=o.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(a){var s=n.value;s!==a&&(n.value=a,n.callback(a,s))}}}})[0];return n.callback=t,n.facade}var Vs=typeof window<"u"?o.useLayoutEffect:o.useEffect,Dn=new WeakMap;function $s(e,t){var n=zs(t||null,function(a){return e.forEach(function(s){return ct(s,a)})});return Vs(function(){var a=Dn.get(n);if(a){var s=new Set(a),l=new Set(e),d=n.current;s.forEach(function(i){l.has(i)||ct(i,null)}),l.forEach(function(i){s.has(i)||ct(i,d)})}Dn.set(n,e)},[e]),n}function Gs(e){return e}function Bs(e,t){t===void 0&&(t=Gs);var n=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var d=t(l,a);return n.push(d),function(){n=n.filter(function(i){return i!==d})}},assignSyncMedium:function(l){for(a=!0;n.length;){var d=n;n=[],d.forEach(l)}n={push:function(i){return l(i)},filter:function(){return n}}},assignMedium:function(l){a=!0;var d=[];if(n.length){var i=n;n=[],i.forEach(l),d=n}var u=function(){var p=d;d=[],p.forEach(l)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(p){d.push(p),f()},filter:function(p){return d=d.filter(p),n}}}};return s}function Us(e){e===void 0&&(e={});var t=Bs(null);return t.options=H({async:!0,ssr:!1},e),t}var In=function(e){var t=e.sideCar,n=Ln(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return o.createElement(a,H({},n))};In.isSideCarExport=!0;function Hs(e,t){return e.useMedium(t),In}var An=Us(),dt=function(){},Ae=o.forwardRef(function(e,t){var n=o.useRef(null),a=o.useState({onScrollCapture:dt,onWheelCapture:dt,onTouchMoveCapture:dt}),s=a[0],l=a[1],d=e.forwardProps,i=e.children,u=e.className,f=e.removeScrollBar,p=e.enabled,c=e.shards,m=e.sideCar,h=e.noIsolation,x=e.inert,g=e.allowPinchZoom,v=e.as,j=v===void 0?"div":v,E=Ln(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),C=m,_=$s([n,t]),N=H(H({},E),s);return o.createElement(o.Fragment,null,p&&o.createElement(C,{sideCar:An,removeScrollBar:f,shards:c,noIsolation:h,inert:x,setCallbacks:l,allowPinchZoom:!!g,lockRef:n}),d?o.cloneElement(o.Children.only(i),H(H({},N),{ref:_})):o.createElement(j,H({},N,{className:u,ref:_}),i))});Ae.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ae.classNames={fullWidth:Ie,zeroRight:De};var On,Ws=function(){if(On)return On;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ks(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ws();return t&&e.setAttribute("nonce",t),e}function Zs(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function qs(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Xs=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Ks())&&(Zs(t,n),qs(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ys=function(){var e=Xs();return function(t,n){o.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},zn=function(){var e=Ys(),t=function(n){var a=n.styles,s=n.dynamic;return e(a,s),null};return t},Js={left:0,top:0,right:0,gap:0},ut=function(e){return parseInt(e||"",10)||0},Qs=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ut(n),ut(a),ut(s)]},eo=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Js;var t=Qs(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},to=zn(),ce="data-scroll-locked",no=function(e,t,n,a){var s=e.left,l=e.top,d=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(As,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(i,"px ").concat(a,`;
  }
  body[`).concat(ce,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(De,` {
    right: `).concat(i,"px ").concat(a,`;
  }
  
  .`).concat(Ie,` {
    margin-right: `).concat(i,"px ").concat(a,`;
  }
  
  .`).concat(De," .").concat(De,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Ie," .").concat(Ie,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(ce,`] {
    `).concat(Os,": ").concat(i,`px;
  }
`)},Vn=function(){var e=parseInt(document.body.getAttribute(ce)||"0",10);return isFinite(e)?e:0},ro=function(){o.useEffect(function(){return document.body.setAttribute(ce,(Vn()+1).toString()),function(){var e=Vn()-1;e<=0?document.body.removeAttribute(ce):document.body.setAttribute(ce,e.toString())}},[])},ao=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;ro();var l=o.useMemo(function(){return eo(s)},[s]);return o.createElement(to,{styles:no(l,!t,s,n?"":"!important")})},pt=!1;if(typeof window<"u")try{var Oe=Object.defineProperty({},"passive",{get:function(){return pt=!0,!0}});window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch{pt=!1}var de=pt?{passive:!1}:!1,so=function(e){return e.tagName==="TEXTAREA"},$n=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!so(e)&&n[t]==="visible")},oo=function(e){return $n(e,"overflowY")},io=function(e){return $n(e,"overflowX")},Gn=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Bn(e,n);if(a){var s=Un(e,n),l=s[1],d=s[2];if(l>d)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},lo=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},co=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},Bn=function(e,t){return e==="v"?oo(t):io(t)},Un=function(e,t){return e==="v"?lo(t):co(t)},uo=function(e,t){return e==="h"&&t==="rtl"?-1:1},po=function(e,t,n,a,s){var l=uo(e,window.getComputedStyle(t).direction),d=l*a,i=n.target,u=t.contains(i),f=!1,p=d>0,c=0,m=0;do{var h=Un(e,i),x=h[0],g=h[1],v=h[2],j=g-v-l*x;(x||j)&&Bn(e,i)&&(c+=j,m+=x),i=i.parentNode}while(!u&&i!==document.body||u&&(t.contains(i)||t===i));return(p&&(s&&c===0||!s&&d>c)||!p&&(s&&m===0||!s&&-d>m))&&(f=!0),f},ze=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Hn=function(e){return[e.deltaX,e.deltaY]},Wn=function(e){return e&&"current"in e?e.current:e},mo=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fo=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ho=0,ue=[];function go(e){var t=o.useRef([]),n=o.useRef([0,0]),a=o.useRef(),s=o.useState(ho++)[0],l=o.useState(function(){return zn()})[0],d=o.useRef(e);o.useEffect(function(){d.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Is([e.lockRef.current],(e.shards||[]).map(Wn),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var i=o.useCallback(function(g,v){if("touches"in g&&g.touches.length===2)return!d.current.allowPinchZoom;var j=ze(g),E=n.current,C="deltaX"in g?g.deltaX:E[0]-j[0],_="deltaY"in g?g.deltaY:E[1]-j[1],N,M=g.target,y=Math.abs(C)>Math.abs(_)?"h":"v";if("touches"in g&&y==="h"&&M.type==="range")return!1;var L=Gn(y,M);if(!L)return!0;if(L?N=y:(N=y==="v"?"h":"v",L=Gn(y,M)),!L)return!1;if(!a.current&&"changedTouches"in g&&(C||_)&&(a.current=N),!N)return!0;var A=a.current||N;return po(A,v,g,A==="h"?C:_,!0)},[]),u=o.useCallback(function(g){var v=g;if(!(!ue.length||ue[ue.length-1]!==l)){var j="deltaY"in v?Hn(v):ze(v),E=t.current.filter(function(N){return N.name===v.type&&N.target===v.target&&mo(N.delta,j)})[0];if(E&&E.should){v.cancelable&&v.preventDefault();return}if(!E){var C=(d.current.shards||[]).map(Wn).filter(Boolean).filter(function(N){return N.contains(v.target)}),_=C.length>0?i(v,C[0]):!d.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),f=o.useCallback(function(g,v,j,E){var C={name:g,delta:v,target:j,should:E};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(_){return _!==C})},1)},[]),p=o.useCallback(function(g){n.current=ze(g),a.current=void 0},[]),c=o.useCallback(function(g){f(g.type,Hn(g),g.target,i(g,e.lockRef.current))},[]),m=o.useCallback(function(g){f(g.type,ze(g),g.target,i(g,e.lockRef.current))},[]);o.useEffect(function(){return ue.push(l),e.setCallbacks({onScrollCapture:c,onWheelCapture:c,onTouchMoveCapture:m}),document.addEventListener("wheel",u,de),document.addEventListener("touchmove",u,de),document.addEventListener("touchstart",p,de),function(){ue=ue.filter(function(g){return g!==l}),document.removeEventListener("wheel",u,de),document.removeEventListener("touchmove",u,de),document.removeEventListener("touchstart",p,de)}},[]);var h=e.removeScrollBar,x=e.inert;return o.createElement(o.Fragment,null,x?o.createElement(l,{styles:fo(s)}):null,h?o.createElement(ao,{gapMode:"margin"}):null)}const xo=Hs(An,go);var Kn=o.forwardRef(function(e,t){return o.createElement(Ae,H({},e,{ref:t,sideCar:xo}))});Kn.classNames=Ae.classNames;const Zn=Kn,mt=["Enter"," "],vo=["ArrowDown","PageUp","Home"],qn=["ArrowUp","PageDown","End"],bo=[...vo,...qn],wo={ltr:[...mt,"ArrowRight"],rtl:[...mt,"ArrowLeft"]},yo={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ve="Menu",[ge,Co,jo]=va(Ve),[J,Xn]=Ee(Ve,[jo,At,oe]),ft=At(),Yn=oe(),[_o,Q]=J(Ve),[ko,xe]=J(Ve),Eo=e=>{const{__scopeMenu:t,open:n=!1,children:a,dir:s,onOpenChange:l,modal:d=!0}=e,i=ft(t),[u,f]=o.useState(null),p=o.useRef(!1),c=Se(l),m=Xe(s);return o.useEffect(()=>{const h=()=>{p.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>p.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),o.createElement(Kr,i,o.createElement(_o,{scope:t,open:n,onOpenChange:c,content:u,onContentChange:f},o.createElement(ko,{scope:t,onClose:o.useCallback(()=>c(!1),[c]),isUsingKeyboardRef:p,dir:m,modal:d},a)))},Jn=o.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e,s=ft(n);return o.createElement(Wr,b({},s,a,{ref:t}))}),Qn="MenuPortal",[No,er]=J(Qn,{forceMount:void 0}),So=e=>{const{__scopeMenu:t,forceMount:n,children:a,container:s}=e,l=Q(Qn,t);return o.createElement(No,{scope:t,forceMount:n},o.createElement(Te,{present:n||l.open},o.createElement(Qt,{asChild:!0,container:s},a)))},U="MenuContent",[To,ht]=J(U),Mo=o.forwardRef((e,t)=>{const n=er(U,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,l=Q(U,e.__scopeMenu),d=xe(U,e.__scopeMenu);return o.createElement(ge.Provider,{scope:e.__scopeMenu},o.createElement(Te,{present:a||l.open},o.createElement(ge.Slot,{scope:e.__scopeMenu},d.modal?o.createElement(Po,b({},s,{ref:t})):o.createElement(Ro,b({},s,{ref:t})))))}),Po=o.forwardRef((e,t)=>{const n=Q(U,e.__scopeMenu),a=o.useRef(null),s=se(t,a);return o.useEffect(()=>{const l=a.current;if(l)return Fn(l)},[]),o.createElement(gt,b({},e,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:T(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),Ro=o.forwardRef((e,t)=>{const n=Q(U,e.__scopeMenu);return o.createElement(gt,b({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),gt=o.forwardRef((e,t)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:d,disableOutsidePointerEvents:i,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:c,onInteractOutside:m,onDismiss:h,disableOutsideScroll:x,...g}=e,v=Q(U,n),j=xe(U,n),E=ft(n),C=Yn(n),_=Co(n),[N,M]=o.useState(null),y=o.useRef(null),L=se(t,y,v.onContentChange),A=o.useRef(0),I=o.useRef(""),G=o.useRef(0),ee=o.useRef(null),pe=o.useRef("right"),Z=o.useRef(0),ye=x?Zn:o.Fragment,_r=x?{as:ga,allowPinchZoom:!0}:void 0,kr=k=>{var D,B;const ne=I.current+k,me=_().filter(W=>!W.disabled),Ce=document.activeElement,fe=(D=me.find(W=>W.ref.current===Ce))===null||D===void 0?void 0:D.textValue,Er=me.map(W=>W.textValue),Nr=Xo(Er,ne,fe),kt=(B=me.find(W=>W.textValue===Nr))===null||B===void 0?void 0:B.ref.current;(function W(Et){I.current=Et,window.clearTimeout(A.current),Et!==""&&(A.current=window.setTimeout(()=>W(""),1e3))})(ne),kt&&setTimeout(()=>kt.focus())};o.useEffect(()=>()=>window.clearTimeout(A.current),[]),_n();const te=o.useCallback(k=>{var D,B;return pe.current===((D=ee.current)===null||D===void 0?void 0:D.side)&&Jo(k,(B=ee.current)===null||B===void 0?void 0:B.area)},[]);return o.createElement(To,{scope:n,searchRef:I,onItemEnter:o.useCallback(k=>{te(k)&&k.preventDefault()},[te]),onItemLeave:o.useCallback(k=>{var D;te(k)||((D=y.current)===null||D===void 0||D.focus(),M(null))},[te]),onTriggerLeave:o.useCallback(k=>{te(k)&&k.preventDefault()},[te]),pointerGraceTimerRef:G,onPointerGraceIntentChange:o.useCallback(k=>{ee.current=k},[])},o.createElement(ye,_r,o.createElement(Nn,{asChild:!0,trapped:s,onMountAutoFocus:T(l,k=>{var D;k.preventDefault(),(D=y.current)===null||D===void 0||D.focus()}),onUnmountAutoFocus:d},o.createElement(Ur,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:c,onInteractOutside:m,onDismiss:h},o.createElement(Ye,b({asChild:!0},C,{dir:j.dir,orientation:"vertical",loop:a,currentTabStopId:N,onCurrentTabStopIdChange:M,onEntryFocus:T(u,k=>{j.isUsingKeyboardRef.current||k.preventDefault()})}),o.createElement(Hr,b({role:"menu","aria-orientation":"vertical","data-state":ir(v.open),"data-radix-menu-content":"",dir:j.dir},E,g,{ref:L,style:{outline:"none",...g.style},onKeyDown:T(g.onKeyDown,k=>{const D=k.target.closest("[data-radix-menu-content]")===k.currentTarget,B=k.ctrlKey||k.altKey||k.metaKey,ne=k.key.length===1;D&&(k.key==="Tab"&&k.preventDefault(),!B&&ne&&kr(k.key));const me=y.current;if(k.target!==me||!bo.includes(k.key))return;k.preventDefault();const Ce=_().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);qn.includes(k.key)&&Ce.reverse(),Zo(Ce)}),onBlur:T(e.onBlur,k=>{k.currentTarget.contains(k.target)||(window.clearTimeout(A.current),I.current="")}),onPointerMove:T(e.onPointerMove,ve(k=>{const D=k.target,B=Z.current!==k.clientX;if(k.currentTarget.contains(D)&&B){const ne=k.clientX>Z.current?"right":"left";pe.current=ne,Z.current=k.clientX}}))})))))))}),tr=o.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return o.createElement(z.div,b({role:"group"},a,{ref:t}))}),Fo=o.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return o.createElement(z.div,b({},a,{ref:t}))}),xt="MenuItem",nr="menu.itemSelect",vt=o.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:a,...s}=e,l=o.useRef(null),d=xe(xt,e.__scopeMenu),i=ht(xt,e.__scopeMenu),u=se(t,l),f=o.useRef(!1),p=()=>{const c=l.current;if(!n&&c){const m=new CustomEvent(nr,{bubbles:!0,cancelable:!0});c.addEventListener(nr,h=>a==null?void 0:a(h),{once:!0}),xa(c,m),m.defaultPrevented?f.current=!1:d.onClose()}};return o.createElement(rr,b({},s,{ref:u,disabled:n,onClick:T(e.onClick,p),onPointerDown:c=>{var m;(m=e.onPointerDown)===null||m===void 0||m.call(e,c),f.current=!0},onPointerUp:T(e.onPointerUp,c=>{var m;f.current||(m=c.currentTarget)===null||m===void 0||m.click()}),onKeyDown:T(e.onKeyDown,c=>{const m=i.searchRef.current!=="";n||m&&c.key===" "||mt.includes(c.key)&&(c.currentTarget.click(),c.preventDefault())})}))}),rr=o.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:a=!1,textValue:s,...l}=e,d=ht(xt,n),i=Yn(n),u=o.useRef(null),f=se(t,u),[p,c]=o.useState(!1),[m,h]=o.useState("");return o.useEffect(()=>{const x=u.current;if(x){var g;h(((g=x.textContent)!==null&&g!==void 0?g:"").trim())}},[l.children]),o.createElement(ge.ItemSlot,{scope:n,disabled:a,textValue:s??m},o.createElement(Je,b({asChild:!0},i,{focusable:!a}),o.createElement(z.div,b({role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0},l,{ref:f,onPointerMove:T(e.onPointerMove,ve(x=>{a?d.onItemLeave(x):(d.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus())})),onPointerLeave:T(e.onPointerLeave,ve(x=>d.onItemLeave(x))),onFocus:T(e.onFocus,()=>c(!0)),onBlur:T(e.onBlur,()=>c(!1))}))))}),Lo=o.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:a,...s}=e;return o.createElement(sr,{scope:e.__scopeMenu,checked:n},o.createElement(vt,b({role:"menuitemcheckbox","aria-checked":Ge(n)?"mixed":n},s,{ref:t,"data-state":bt(n),onSelect:T(s.onSelect,()=>a==null?void 0:a(Ge(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),Do="MenuRadioGroup",[Io,Ao]=J(Do,{value:void 0,onValueChange:()=>{}}),Oo=o.forwardRef((e,t)=>{const{value:n,onValueChange:a,...s}=e,l=Se(a);return o.createElement(Io,{scope:e.__scopeMenu,value:n,onValueChange:l},o.createElement(tr,b({},s,{ref:t})))}),zo="MenuRadioItem",Vo=o.forwardRef((e,t)=>{const{value:n,...a}=e,s=Ao(zo,e.__scopeMenu),l=n===s.value;return o.createElement(sr,{scope:e.__scopeMenu,checked:l},o.createElement(vt,b({role:"menuitemradio","aria-checked":l},a,{ref:t,"data-state":bt(l),onSelect:T(a.onSelect,()=>{var d;return(d=s.onValueChange)===null||d===void 0?void 0:d.call(s,n)},{checkForDefaultPrevented:!1})})))}),ar="MenuItemIndicator",[sr,$o]=J(ar,{checked:!1}),Go=o.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:a,...s}=e,l=$o(ar,n);return o.createElement(Te,{present:a||Ge(l.checked)||l.checked===!0},o.createElement(z.span,b({},s,{ref:t,"data-state":bt(l.checked)})))}),Bo=o.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return o.createElement(z.div,b({role:"separator","aria-orientation":"horizontal"},a,{ref:t}))}),Uo="MenuSub",[tc,or]=J(Uo),$e="MenuSubTrigger",Ho=o.forwardRef((e,t)=>{const n=Q($e,e.__scopeMenu),a=xe($e,e.__scopeMenu),s=or($e,e.__scopeMenu),l=ht($e,e.__scopeMenu),d=o.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:u}=l,f={__scopeMenu:e.__scopeMenu},p=o.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return o.useEffect(()=>p,[p]),o.useEffect(()=>{const c=i.current;return()=>{window.clearTimeout(c),u(null)}},[i,u]),o.createElement(Jn,b({asChild:!0},f),o.createElement(rr,b({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":ir(n.open)},e,{ref:Kt(t,s.onTriggerChange),onClick:c=>{var m;(m=e.onClick)===null||m===void 0||m.call(e,c),!(e.disabled||c.defaultPrevented)&&(c.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:T(e.onPointerMove,ve(c=>{l.onItemEnter(c),!c.defaultPrevented&&!e.disabled&&!n.open&&!d.current&&(l.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:T(e.onPointerLeave,ve(c=>{var m;p();const h=(m=n.content)===null||m===void 0?void 0:m.getBoundingClientRect();if(h){var x;const g=(x=n.content)===null||x===void 0?void 0:x.dataset.side,v=g==="right",j=v?-5:5,E=h[v?"left":"right"],C=h[v?"right":"left"];l.onPointerGraceIntentChange({area:[{x:c.clientX+j,y:c.clientY},{x:E,y:h.top},{x:C,y:h.top},{x:C,y:h.bottom},{x:E,y:h.bottom}],side:g}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(c),c.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:T(e.onKeyDown,c=>{const m=l.searchRef.current!=="";if(!(e.disabled||m&&c.key===" ")&&wo[a.dir].includes(c.key)){var h;n.onOpenChange(!0),(h=n.content)===null||h===void 0||h.focus(),c.preventDefault()}})})))}),Wo="MenuSubContent",Ko=o.forwardRef((e,t)=>{const n=er(U,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,l=Q(U,e.__scopeMenu),d=xe(U,e.__scopeMenu),i=or(Wo,e.__scopeMenu),u=o.useRef(null),f=se(t,u);return o.createElement(ge.Provider,{scope:e.__scopeMenu},o.createElement(Te,{present:a||l.open},o.createElement(ge.Slot,{scope:e.__scopeMenu},o.createElement(gt,b({id:i.contentId,"aria-labelledby":i.triggerId},s,{ref:f,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var c;d.isUsingKeyboardRef.current&&((c=u.current)===null||c===void 0||c.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:T(e.onFocusOutside,p=>{p.target!==i.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:T(e.onEscapeKeyDown,p=>{d.onClose(),p.preventDefault()}),onKeyDown:T(e.onKeyDown,p=>{const c=p.currentTarget.contains(p.target),m=yo[d.dir].includes(p.key);if(c&&m){var h;l.onOpenChange(!1),(h=i.trigger)===null||h===void 0||h.focus(),p.preventDefault()}})})))))});function ir(e){return e?"open":"closed"}function Ge(e){return e==="indeterminate"}function bt(e){return Ge(e)?"indeterminate":e?"checked":"unchecked"}function Zo(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function qo(e,t){return e.map((n,a)=>e[(t+a)%e.length])}function Xo(e,t,n){const a=t.length>1&&Array.from(t).every(i=>i===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=qo(e,Math.max(s,0));a.length===1&&(l=l.filter(i=>i!==n));const d=l.find(i=>i.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function Yo(e,t){const{x:n,y:a}=e;let s=!1;for(let l=0,d=t.length-1;l<t.length;d=l++){const i=t[l].x,u=t[l].y,f=t[d].x,p=t[d].y;u>a!=p>a&&n<(f-i)*(a-u)/(p-u)+i&&(s=!s)}return s}function Jo(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Yo(n,t)}function ve(e){return t=>t.pointerType==="mouse"?e(t):void 0}const Qo=Eo,ei=Jn,ti=So,ni=Mo,ri=tr,ai=Fo,si=vt,oi=Lo,ii=Oo,li=Vo,ci=Go,di=Bo,ui=Ho,pi=Ko,lr="DropdownMenu",[mi,nc]=Ee(lr,[Xn]),V=Xn(),[fi,cr]=mi(lr),hi=e=>{const{__scopeDropdownMenu:t,children:n,dir:a,open:s,defaultOpen:l,onOpenChange:d,modal:i=!0}=e,u=V(t),f=o.useRef(null),[p=!1,c]=Ne({prop:s,defaultProp:l,onChange:d});return o.createElement(fi,{scope:t,triggerId:Zt(),triggerRef:f,contentId:Zt(),open:p,onOpenChange:c,onOpenToggle:o.useCallback(()=>c(m=>!m),[c]),modal:i},o.createElement(Qo,b({},u,{open:p,onOpenChange:c,dir:a,modal:i}),n))},gi="DropdownMenuTrigger",xi=o.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...s}=e,l=cr(gi,n),d=V(n);return o.createElement(ei,b({asChild:!0},d),o.createElement(z.button,b({type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":a?"":void 0,disabled:a},s,{ref:Kt(t,l.triggerRef),onPointerDown:T(e.onPointerDown,i=>{!a&&i.button===0&&i.ctrlKey===!1&&(l.onOpenToggle(),l.open||i.preventDefault())}),onKeyDown:T(e.onKeyDown,i=>{a||(["Enter"," "].includes(i.key)&&l.onOpenToggle(),i.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})))}),vi=e=>{const{__scopeDropdownMenu:t,...n}=e,a=V(t);return o.createElement(ti,b({},a,n))},bi="DropdownMenuContent",wi=o.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=cr(bi,n),l=V(n),d=o.useRef(!1);return o.createElement(ni,b({id:s.contentId,"aria-labelledby":s.triggerId},l,a,{ref:t,onCloseAutoFocus:T(e.onCloseAutoFocus,i=>{var u;d.current||(u=s.triggerRef.current)===null||u===void 0||u.focus(),d.current=!1,i.preventDefault()}),onInteractOutside:T(e.onInteractOutside,i=>{const u=i.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,p=u.button===2||f;(!s.modal||p)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),yi=o.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=V(n);return o.createElement(ri,b({},s,a,{ref:t}))}),Ci=o.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=V(n);return o.createElement(ai,b({},s,a,{ref:t}))}),ji=o.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=V(n);return o.createElement(si,b({},s,a,{ref:t}))}),_i=o.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=V(n);return o.createElement(oi,b({},s,a,{ref:t}))}),ki=o.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=V(n);return o.createElement(ii,b({},s,a,{ref:t}))}),Ei=o.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=V(n);return o.createElement(li,b({},s,a,{ref:t}))}),Ni=o.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=V(n);return o.createElement(ci,b({},s,a,{ref:t}))}),Si=o.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=V(n);return o.createElement(di,b({},s,a,{ref:t}))}),Ti=o.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=V(n);return o.createElement(ui,b({},s,a,{ref:t}))}),Mi=o.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=V(n);return o.createElement(pi,b({},s,a,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Pi=hi,Ri=xi,dr=vi,Fi=wi,Li=yi,Di=Ci,Ii=ji,Ai=_i,Oi=ki,zi=Ei,ur=Ni,Vi=Si,$i=Ti,Gi=Mi,pr=o.createContext("dark"),Bi=()=>o.useContext(pr),wt=Pi,yt=Ri;o.forwardRef(({className:e,children:t,...n},a)=>r.jsx(Li,{ref:a,className:e,...n,children:t}));const Ui=o.forwardRef(({className:e,children:t,...n},a)=>r.jsx(Oi,{ref:a,className:e,...n,children:t})),mr=q("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 overflow-x-hidden rounded-xl py-2 max-h-[calc(var(--radix-dropdown-menu-content-available-height)_-_8px)] bg-white dark:bg-slate-800 shadow-popoverLight dark:shadow-popover",{variants:{}});o.forwardRef(({className:e,children:t,...n},a)=>{const s=Bi();return r.jsx(dr,{children:r.jsx(Gi,{ref:a,className:w(mr(),e),sideOffset:-4,alignOffset:-8,"data-theme":s,...n,children:t})})});const Hi=()=>r.jsxs("div",{className:"flex flex-col space-y-4 px-4 py-2",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(Qe,{className:"h-4 w-[88%] rounded-md"})}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(Qe,{className:"h-4 w-[96%] rounded-md"})}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(Qe,{className:"h-4 w-[90%] rounded-md"})})]}),Ct=o.forwardRef(({children:e,className:t,container:n,isLoading:a,sideOffset:s=4,collisionPadding:l=16,theme:d="dark",...i},u)=>r.jsx(pr.Provider,{value:d,children:r.jsx(dr,{container:n,children:r.jsx(Fi,{ref:u,sideOffset:s,className:w(mr(),"min-w-[var(--radix-dropdown-menu-trigger-width)]",t),"data-theme":d,collisionPadding:l,...i,children:a?r.jsx(Hi,{}):e})})}));o.forwardRef(({icon:e,className:t,children:n,...a},s)=>r.jsx($i,{ref:s,className:w(He(),t),...a,children:r.jsxs("div",{className:"flex gap-1 items-center w-full",children:[e&&r.jsx("span",{className:We(),children:r.jsx(P,{icon:e,className:Be()})}),r.jsx("div",{className:"flex flex-grow px-1",children:n}),r.jsx(P,{icon:ua,className:w(Ue(),"size-3 opacity-80 mr-0.5")})]})}));const Wi=q("group flex items-center px-4 py-1 text-sm outline-none text-slate-900 dark:text-slate-100 focus:bg-slate-100 focus:bg-opacity-100",{variants:{variant:{title:"font-semibold leading-tight min-h-8",label:"text-slate-700 dark:text-slate-400 text-[11px] font-medium uppercase leading-none tracking-wider min-h-6"}},defaultVariants:{variant:"label"}}),fr=o.forwardRef(({className:e,variant:t,...n},a)=>r.jsx(Di,{ref:a,className:w(Wi({variant:t}),"font-semibold leading-tight",e),...n})),hr=o.forwardRef(({className:e,...t},n)=>r.jsx(Vi,{ref:n,className:w("-mx-2 my-2 h-px bg-slate-100 dark:bg-slate-900 dark:drop-shadow-[0px_1px_0px_#334155]",e),...t})),Be=q("text-sm size-4 transition-colors text-slate-400 dark:text-slate-500 group-data-[disabled]:text-slate-400 dark:group-data-[disabled]:text-slate-600 ",{variants:{variant:{default:"group-data-[highlighted]:text-slate-700 dark:group-data-[highlighted]:text-slate-300",destructive:"group-data-[highlighted]:text-red-500 dark:group-data-[highlighted]:text-red-500"}},defaultVariants:{variant:"default"}}),Ue=q("text-sm size-4 transition-colors text-slate-900 dark:text-slate-100 group-data-[disabled]:text-slate-400 dark:group-data-[disabled]:text-slate-600 dark:group-data-[highlighted]:text-slate-300"),He=q("dropdown-menu-item group relative flex flex-col cursor-pointer select-none min-h-8 px-3 py-1 justify-center text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:text-slate-500 w-full text-slate-900 dark:text-slate-100",{variants:{variant:{default:"data-[highlighted]:bg-slate-100 dark:data-[highlighted]:bg-slate-700",destructive:"data-[highlighted]:bg-red-50 dark:data-[highlighted]:bg-red-500/20 data-[highlighted]:text-red-500 dark:data-[highlighted]:text-red-400"}},defaultVariants:{variant:"default"}}),Ki=({className:e,...t})=>r.jsx("span",{className:w("text-xs font-normal leading-none text-slate-400",e),...t}),We=q("dropdown-menu-item-icon flex items-center justify-center size-5 shrink-0"),gr=({avatarProps:e,children:t,childrenClassName:n,icon:a,iconClassName:s,shortcutText:l,showAvatar:d,showShortcut:i,showTag:u,tagComponent:f,variant:p})=>{const c=f??r.jsx(oa,{type:"pro"});return r.jsxs(r.Fragment,{children:[d&&r.jsx("div",{className:"pl-1",children:r.jsx(et,{size:"xs",...e})}),a&&r.jsx("span",{className:We(),children:r.jsx(P,{icon:a,className:w(Be({variant:p}),s)})}),r.jsx("span",{className:w("px-1 text-left truncate",n),children:t}),r.jsxs("div",{className:"flex flex-grow justify-end",children:[u&&c,i&&l&&r.jsx(Ki,{children:l})]})]})},xr=o.forwardRef(({avatarProps:e,children:t,childrenClassName:n,className:a,icon:s,iconClassName:l,shortcutText:d,showAvatar:i,showShortcut:u,showTag:f,subtext:p,tagComponent:c,variant:m,...h},x)=>r.jsxs(Ii,{ref:x,className:w(He({variant:m}),{"h-auto":!!p},a),...h,children:[r.jsx("div",{className:"flex gap-1 items-center w-full",children:r.jsx(gr,{showAvatar:i,avatarProps:e,icon:s,iconClassName:l,showTag:f,showShortcut:u,shortcutText:d,subtext:p,childrenClassName:n,tagComponent:c,variant:m,children:t})}),p&&r.jsx("div",{className:w("px-1 text-xs text-slate-400",{"ml-6":!!s}),children:p})]}));o.forwardRef(({avatarProps:e,checked:t,children:n,childrenClassName:a,className:s,icon:l,iconClassName:d,showAvatar:i,showTag:u,subtext:f,tagComponent:p,variant:c,...m},h)=>r.jsxs(Ai,{ref:h,className:w(He({variant:c}),{"h-auto":!!f},s),checked:t,...m,children:[r.jsxs("div",{className:"flex gap-1 items-center w-full",children:[r.jsx("div",{className:"flex-none size-5",children:r.jsx(ur,{className:"flex justify-center items-center size-5",children:r.jsx(P,{icon:qr,className:Ue()})})}),r.jsx(gr,{showAvatar:i,avatarProps:e,icon:l,iconClassName:d,childrenClassName:a,showTag:u,tagComponent:p,variant:c,children:n})]}),f&&r.jsx("div",{className:"px-1 ml-6 text-xs mt-[2px] text-slate-400",children:f})]}));const vr=o.forwardRef(({avatarProps:e,children:t,childrenClassName:n,className:a,icon:s,showAvatar:l,subtext:d,subtextProps:i={},variant:u,...f},p)=>{const{className:c,...m}=i;return r.jsx(zi,{ref:p,className:w(He({variant:u}),{"h-auto":!!d},a),...f,children:r.jsxs("div",{className:"grid grid-cols-[1.75rem_min-content_1fr] grid-rows-[auto_auto] gap-y-0.5 items-center",children:[r.jsx("div",{className:We(),children:r.jsx(ur,{className:"flex justify-center items-center size-5",children:r.jsx(P,{icon:pa,className:w(Ue(),"size-3")})})}),s?r.jsx("div",{className:We(),children:r.jsx(P,{icon:s,className:w(Be(),"text-sm transition-colors size-4 mr-2")})}):l?r.jsx("div",{className:"mr-2",children:r.jsx(et,{size:"xs",...e})}):r.jsx("span",{}),r.jsx("div",{children:t}),r.jsx("div",{}),r.jsx("div",{}),r.jsx("div",{className:w("text-xs text-slate-400",c),...m,children:d})]})})}),Zi=async(e,t,n,a)=>chrome.runtime.sendMessage({messageType:"getCustomUrls"}).then(({FRONTEND_URL:s})=>Fr(e,t,n,"",a,`${s}/`)),qi=({onStartRecording:e})=>r.jsx("div",{className:"mx-6 flex items-center justify-center rounded-md bg-gradient-to-b from-brand-300/30 to-white/0 pt-8",children:r.jsxs("div",{className:"flex flex-col items-center gap-2 mx-8",children:[r.jsx(P,{icon:ma,className:"text-4xl text-indigo-400"}),r.jsxs("div",{className:"flex flex-col items-center gap-6",children:[r.jsx("p",{className:"text-center text-lg text-slate-600",children:"Capture a Scribe for this application. You and your team can find it here."}),r.jsx(F,{onClick:e,variant:"secondary",children:"Start Capture"})]})]})}),jt={new:"New",popular:"Popular",viewed:"Recents"},Xi=()=>{const[e,t]=o.useState("popular");return o.useEffect(()=>{(async()=>{try{chrome.runtime.sendMessage({messageType:"getSelectedSuggestionsFilter"},n=>{t(n||"popular")})}catch(n){console.error("Failed to get initial filter:",n)}})()},[]),[e,async n=>{async function a(){try{R("sidebar_sort_option_selected",{option:n}),await chrome.runtime.sendMessage({messageType:"updateSelectedSuggestionsFilter",filter:n})}catch(s){console.error("Failed to update filter:",s)}}t(n),a()}]},br=({selectedFilter:e,setSelectedFilter:t})=>e?r.jsxs(wt,{children:[r.jsx(yt,{asChild:!0,children:r.jsx(F,{variant:"ghost",icon:fa,iconPosition:"right",className:"bg-transparent dark:bg-transparent ml-6 pl-0",children:e?jt[e]:"Select Filter"})}),r.jsx(Ct,{children:Object.keys(jt).map(n=>r.jsx(xr,{onClick:()=>{t(n)},children:jt[n]},n))})]}):null,Yi=({onStartRecording:e})=>{const t=Ke(),[n,a]=o.useState(void 0),[s,l]=Xi(),{workspaceScribes:d}=O(Nt),i=O(St),[u,f]=o.useState({});o.useEffect(()=>{(async()=>{if(d&&d.length>0)try{const c=await Promise.all(d.map(async h=>({id:h.id,url:await Zi(h.id,h.name,!1,h.type)}))),m=Object.fromEntries(c.map(({id:h,url:x})=>[h,x]));f(m)}catch{f({})}})()},[d]),o.useEffect(()=>(chrome.runtime.sendMessage({messageType:"getLastFocusedWindow"},c=>{a(c.id)}),()=>{chrome.runtime.sendMessage({messageType:"removePopup"})}),[]),o.useEffect(()=>{async function c(){const m=await Tt(),h={sort:s,domain:void 0,url:(m==null?void 0:m.toString())||""};t(Mt(h))}c()},[t,s]),o.useEffect(()=>{const c=async m=>{if(m.messageType==="currentTabChanged"){const h=await Tt(),x={sort:s,domain:void 0,url:(h==null?void 0:h.toString())||""};t(Mt(x))}};return chrome.runtime.onMessage.addListener(c),()=>{chrome.runtime.onMessage.removeListener(c)}},[t,s]);const p=o.useMemo(()=>d.map(c=>{var m;return{...c,id:c.id,name:c.name,metadata:[c.author,((m=c.organization_owner)==null?void 0:m.name)||""],onClick:()=>{const h=u[c.id];R("extension_recommended_scribe_opened",{name:c.name,id:c.id,section:"workspace"}),chrome.runtime.sendMessage({messageType:"openGuideMeSidepanel",targetWindowId:n,scribe:{id:c.id,name:c.name,url:h,location:"sidekick"}})},miniMenuConfig:[{icon:Xr,iconPostClick:Yr,label:"Copy link to clipboard",onClick:h=>{h.preventDefault(),h.stopPropagation();const x=u[c.id];x&&(navigator.clipboard.writeText(x),R("got_share_link",{location:"sidekick",link:x}))}}]}}),[d,u,n]);return d.length===0&&!i?r.jsxs(r.Fragment,{children:[r.jsx(br,{selectedFilter:s,setSelectedFilter:l}),r.jsx(qi,{onStartRecording:e})]}):r.jsxs(r.Fragment,{children:[r.jsx(br,{selectedFilter:s,setSelectedFilter:l}),r.jsx(Es,{isLoading:i,cardItems:p})]})},wr=e=>o.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},o.createElement("path",{d:"M7 0C10.866 0 14 3.13401 14 7C14 8.57231 13.4807 10.0228 12.6055 11.1914L14.8887 13.4746C15.2792 13.8651 15.2792 14.4981 14.8887 14.8887C14.4981 15.2792 13.8651 15.2792 13.4746 14.8887L11.1914 12.6055C10.0228 13.4807 8.57231 14 7 14C3.13401 14 0 10.866 0 7C0 3.13401 3.13401 0 7 0ZM7 2C4.23858 2 2 4.23858 2 7C2 9.76142 4.23858 12 7 12C9.76142 12 12 9.76142 12 7C12 4.23858 9.76142 2 7 2ZM7 3.5C7.14062 3.5 7.26563 3.59375 7.32812 3.71875L8.26562 5.73438L10.2812 6.67188C10.4062 6.73437 10.5 6.85938 10.5 7C10.5 7.15625 10.4062 7.28125 10.2812 7.34375L8.26562 8.28125L7.32812 10.2969C7.26563 10.4219 7.14062 10.5 7 10.5C6.84375 10.5 6.71875 10.4219 6.65625 10.2969L5.71875 8.28125L3.70312 7.34375C3.57813 7.28125 3.5 7.15625 3.5 7C3.5 6.85938 3.57813 6.73437 3.70312 6.67188L5.71875 5.73438L6.65625 3.71875C6.71875 3.59375 6.84375 3.5 7 3.5Z",fill:"currentColor"})),Ji=()=>{const e=()=>{chrome.runtime.sendMessage({messageType:"startCopilotSearch",source:X.SIDEPANEL}),je().then(t=>{R("copilot_entry_point_click",{url:t==null?void 0:t.url})})};return r.jsx("div",{className:"mx-6 mt-3",children:r.jsxs("button",{className:"w-full p-3 text-slate-500 h-10 flex items-center gap-2 rounded-md bg-white hover:bg-slate-100 border border-slate-300 cursor-pointer mb-8",onClick:e,children:[r.jsx(wr,{className:"text-slate-500"}),"How do I..."]})})},Qi=e=>{var t;return[ie.BASE,ie.CORE,ie.HUB,ie.GRID,ie.ENTERPRISE].includes((t=e==null?void 0:e.plan)==null?void 0:t.name)},el=({team:e,onClick:t,isSelectedTeam:n})=>{var l,d;const a=(d=(l=e.super_organization)==null?void 0:l.plan)==null?void 0:d.name;let s="";return Qi(e.super_organization)?s="ent":a!=="free"&&(s=a),r.jsx(xr,{onClick:t,children:r.jsxs("div",{className:"flex items-center space-between gap-4",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[e.name,s&&r.jsx(he,{theme:"dark",className:"uppercase",children:s})]}),n&&r.jsx(P,{icon:ha,className:"text-emerald-500 align-middle"})]})})},tl=()=>{const e="extension_home_page",{userData:t}=O(Pt),n=!Cr(t),a=Ke(),s=t==null?void 0:t.active_organization,l=t==null?void 0:t.organizations,d=u=>{a(Lr({orgId:u.id}))},i=u=>{u&&R("opened_team_selector",{location:e})};return!l||!s?null:r.jsx("div",{className:"flex items-center",children:r.jsxs(wt,{onOpenChange:i,children:[r.jsx(yt,{asChild:!0,className:"border-none",children:r.jsx(F,{variant:"secondary",icon:Vt,iconPosition:"right",className:w("flex flex-row border-none shadow-none bg-slate-500/5",{"text-white":!n}),children:r.jsxs("div",{className:"flex flex-row items-center gap-2 max-w-24",children:[r.jsx(et,{size:"xxs",shape:"square",children:s.name}),r.jsx("div",{className:w("text-ellipsis whitespace-nowrap overflow-hidden text-slate-900",{"text-white":!n}),children:s.name})]})})}),r.jsxs(Ct,{children:[r.jsx(fr,{variant:"label",children:"Change team"}),l.map(u=>r.jsx(el,{team:u,onClick:()=>d(u),isSelectedTeam:u.id===s.id},u.id))]})]})})},nl=({hasViewerLicense:e,children:t})=>e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"relative h-10 w-full",style:{backgroundImage:`url(${Ia})`,backgroundSize:"cover",backgroundPosition:"bottom center",backgroundRepeat:"no-repeat"}}),t]}):r.jsx("div",{className:"relative min-h-80 h-auto w-full bg-slate-950",style:{backgroundImage:`url(${Fa})`,backgroundSize:"100% auto",backgroundPosition:"bottom center",backgroundRepeat:"no-repeat"},children:t}),rl=({isSidePanel:e=!1,hasViewerLicense:t,user:n,userGrowthState:a,onStartRecording:s,onVisitWorkspaceDocuments:l,onGoToOptionsPage:d})=>{var E,C,_,N;const{pinTreasures:i}=re(ae.getState()),{voiceTranscriptionExpSplitButton:u}=re(ae.getState()),f=en(n,a),p=!!(a!=null&&a.first_created_scribe_id),c=(C=(E=n==null?void 0:n.active_organization)==null?void 0:E.super_organization)==null?void 0:C.allow_web,m=(N=(_=n==null?void 0:n.active_organization)==null?void 0:_.super_organization)==null?void 0:N.allow_openai,h=u==="experiment"&&c&&m&&e,x=f&&c&&!h&&!t,{audioRecordingEnabled:g,toggleAudioRecording:v}=Ut("sidepanel",h),j=Ft(n);return r.jsxs("div",{className:"h-full w-full",children:[r.jsx(nl,{hasViewerLicense:t,children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:w("w-full flex justify-between h-8",{"mt-3":!t}),children:[r.jsx("button",{onClick:l,className:"bg-transparent cursor-pointer","aria-label":"Open Scribe workspace",title:"Open Scribe workspace",type:"button",children:t?r.jsx(La,{className:"h-7"}):r.jsx(Da,{className:"h-7"})}),r.jsxs("div",{className:"gap-2 inline-flex text-white",children:[r.jsx(tl,{}),r.jsx(F,{icon:Jr,variant:"secondary",screenReaderLabel:"Settings",size:"default",onClick:d,className:w("h-8 border-none shadow-none dark:bg-slate-500/15",{"bg-slate-500/5":t}),theme:t?"light":"dark"})]})]}),!t&&r.jsxs("div",{className:"flex justify-center items-center w-full px-3 my-9 min-h-[120px] flex-col gap-6",children:[p&&r.jsx(Ht,{disabled:!x,showBrandBadge:!x,enabled:g,onToggle:v,theme:"dark",className:"flex border-slate-600 bg-slate-900/0 text-slate-50"}),r.jsx(tt,{onClick:s,iconClassName:"text-slate-900",className:"flex w-full bg-gradient-to-r from-white/90 via-white/95 to-white/80 text-slate-900 rounded-xl backdrop-blur-md hover:bg-white/20 ring-8 ring-white/10"}),j&&r.jsx("div",{className:"w-full mb-8",children:r.jsx(nn,{isSidekickRefreshVersion:!0})})]})]})}),r.jsx(Ji,{}),i&&r.jsx("div",{className:"p-6",children:r.jsx($a,{})}),r.jsx(Yi,{onStartRecording:s})]})},be=e=>o.createElement("svg",{width:51,height:40,viewBox:"0 0 51 40",fill:"#ff5466",xmlns:"http://www.w3.org/2000/svg",...e},o.createElement("path",{d:"M25.5002 30.509C25.5002 30.0869 25.7925 29.721 26.2042 29.6279L49.8532 24.2766C50.4183 24.1488 50.9559 24.5784 50.9559 25.1577V33.745C50.9559 34.1671 50.6636 34.533 50.2519 34.6261L26.6029 39.9773C26.0379 40.1052 25.5002 39.6756 25.5002 39.0962V30.509Z"}),o.createElement("path",{d:"M0.0441895 21.2616C0.0441895 20.8395 0.336495 20.4736 0.748192 20.3805L49.8529 9.26923C50.418 9.14136 50.9557 9.57096 50.9557 10.1503V18.7376C50.9557 19.1597 50.6633 19.5256 50.2517 19.6187L1.14694 30.73C0.581859 30.8578 0.0441895 30.4282 0.0441895 29.8489V21.2616Z"}),o.createElement("path",{d:"M0.0441895 6.25497C0.0441895 5.83287 0.336495 5.46703 0.748192 5.37387L24.3972 0.0226531C24.9623 -0.105211 25.4999 0.32439 25.4999 0.903753V9.49104C25.4999 9.91314 25.2076 10.279 24.7959 10.3721L1.14694 15.7234C0.581859 15.8512 0.0441895 15.4216 0.0441895 14.8423V6.25497Z"})),al=()=>{const[e,t]=o.useState(null);return o.useEffect(()=>{const n=async(a,s)=>{if(a.messageType==="scribeCountReceived"){const l=await je();t(l)}};return je().then(a=>{t(a)}),chrome.runtime.onMessage.addListener(n),()=>{chrome.runtime.onMessage.removeListener(n)}},[]),{hostname:e!=null&&e.url?new URL(e.url).hostname:null,tab:e}},sl=({onClick:e,scribeCount:t,isSidePanel:n,isSidekickDisplayingFixedWidthSplitButton:a})=>{const[s,l]=o.useState("idle"),{hostname:d,tab:i}=al(),u=n?d:window.location.hostname,f=qt(u)||(i==null?void 0:i.favIconUrl);o.useEffect(()=>{if(f&&u){const c=new Image;c.src=f,c.onload=()=>{l("success")},c.onerror=()=>{l("error")}}},[f,u]);const p=t!==0;return r.jsx(F,{variant:"secondary",size:"huge",className:"w-full",onPointerDown:e,"data-testid":"extensionOpenSidekickButton",icon:p?void 0:Qr,iconProps:{className:"text-slate-500 h-4"},children:r.jsx("span",{className:"flex items-center text-sm font-medium text-slate-600",children:p?r.jsxs(r.Fragment,{children:[s==="error"&&r.jsx(P,{icon:ea,className:"w-6 text-slate-500"}),f&&s!=="error"&&r.jsx("img",{alt:"Favicon",src:f,className:w("SSFavicon mr-2",{"SSFavicon--success":s==="success"})}),`View ${t} Doc${t===1?"":"s"}`]}):r.jsx("span",{className:"pl-1",children:"Search Documents"})})})},ol=({className:e,onValueChange:t,wasVoiceTranscriptionOnAtInit:n,...a})=>{const[s,l]=o.useState(n);o.useEffect(()=>{const i=n!=null;s==null&&i&&l(n)},[n]);const d=o.useCallback(i=>{l(i==="voice"),i==="voice"?R("clicked_voice_transcribed_steps"):i==="smart"&&R("clicked_smart_steps"),t(i)},[]);return r.jsxs(ia,{variant:"primary",children:[r.jsx(F,{className:"flex-1","data-testid":"extensionStartRecordingButton",size:"huge",icon:ke,iconProps:{className:"text-brand-200"},...a,children:"Start Capture"}),r.jsxs(wt,{onOpenChange:i=>{i&&R("clicked_split_capture_dropdown")},children:[r.jsx(yt,{asChild:!0,children:r.jsx(F,{className:"flex items-center justify-between pl-3 py-3 pr-[8px] w-[60px]","data-testid":"extensionRecordingSelectLabelingStyle",icon:Vt,iconPosition:"right",iconProps:{className:"text-brand-200 text-[14px] h-[14px] w-[14px] mr-[5px]"},children:s?r.jsx(P,{icon:$t,className:"text-[20px] text-brand-200 w-[20px] h-[20px]"}):r.jsx(P,{icon:Gt,className:"text-[20px] text-brand-200 w-[20px] h-[20px]"})})}),r.jsx(Ct,{align:"end",className:"w-[calc(100vw-64px)] max-w-[280px]",children:r.jsxs(Ui,{value:s?"voice":"smart",onValueChange:d,children:[r.jsx(vr,{value:"smart",icon:Gt,subtext:"Automatically generate step descriptions during capture",subtextProps:{className:"w-[200px]"},children:r.jsx("div",{children:"Smart Steps"})}),r.jsx(hr,{}),r.jsx(vr,{value:"voice",icon:$t,subtext:"Speak to add step descriptions during capture",subtextProps:{className:"w-[200px]"},children:r.jsx("div",{children:"Voice-Transcribed Steps"})})]})})]})]})},il=({title:e,message:t,className:n})=>r.jsx("div",{className:w("relative mx-auto rounded-lg border border-red-100 bg-red-50 p-3",n),role:"alert",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(P,{icon:ta,className:"h-4 size-3 text-red-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold",children:e}),r.jsx("div",{className:"text-xs",children:t})]}),r.jsx("div",{})]})}),ll=()=>{const{setActiveTeamError:e}=Pt(ae.getState()),t=[e?{title:"Error Selecting Team",message:e}:null].filter(n=>n!==null);return t.length>0?r.jsx("div",{children:t.map(n=>r.jsx(il,{className:"my-2",message:n==null?void 0:n.message,title:n==null?void 0:n.title}))}):null},we=({title:e,description:t,descriptionList:n,subTitle:a,icon:s,variant:l="info",theme:d="light",actions:i,className:u,...f})=>{const p=()=>{switch(l){case"error":return aa;case"success":return ra;case"warning":return Bt;default:return na}},c=q("flex gap-2 p-3 rounded-lg border w-full @sm:p-4 @sm:gap-3",{variants:{variant:{info:"bg-indigo-50 border-indigo-200 text-slate-900 dark:bg-indigo-800/20 dark:border-indigo-700/30 dark:text-indigo-50",success:"bg-green-50 border-green-200 text-slate-900 dark:bg-green-800/20 dark:border-green-700/30 dark:text-green-50",warning:"bg-yellow-50 border-yellow-200 text-slate-900 dark:bg-yellow-800/20 dark:border-yellow-700/30 dark:text-yellow-50",error:"bg-red-50 border-red-200 text-slate-900 dark:bg-red-800/20 dark:border-red-700/30 dark:text-red-50"}},defaultVariants:{variant:"info"}}),m=q("shrink-0 size-4",{variants:{variant:{info:"text-indigo-500",success:"text-green-500",warning:"text-yellow-500",error:"text-red-500"}},defaultVariants:{variant:"info"}});return r.jsx("div",{role:"alert",className:"w-full @container","data-theme":d,...f,children:r.jsxs("div",{className:c({variant:l,className:u}),children:[r.jsx(P,{icon:s||p(),className:m({variant:l}),"data-testid":"alert-icon"}),r.jsxs("div",{className:"flex flex-col text-xs @sm:text-sm",children:[r.jsx("div",{className:"font-semibold leading-4","data-testid":"alert-title",children:e}),t&&r.jsx("p",{className:"mt-1 opacity-80","data-testid":"alert-description",children:t}),n&&r.jsx("ul",{className:"pl-4 opacity-80","data-testid":"alert-list",children:n.map(h=>r.jsx("li",{className:"mt-1",children:h},h))}),a&&r.jsx("div",{className:"font-semibold leading-4","data-testid":"alert-title",children:a}),i&&r.jsx("div",{className:"flex flex-wrap gap-1 mt-3","data-testid":"alert-actions",children:i.map((h,x)=>o.createElement(F,{...h,variant:"secondary",size:"small",theme:d,key:`alert-action-${x}`}))})]})]})})},cl=({handleSave:e,handleDiscard:t,loading:n,showSupport:a})=>r.jsxs(r.Fragment,{children:[r.jsx(we,{className:"mb-2",title:"The last Scribe you created did not get saved",variant:"error",actions:[{children:"Discard",onClick:()=>{t()},disabled:n},{children:"Save",onClick:()=>{e()},disabled:n,loading:n}]}),a&&r.jsx(we,{title:"Still having issues?",variant:"info",actions:[{children:"Contact Support",onClick:()=>{window.open("https://support.scribehow.com/hc/en-us/requests/new")}}]})]}),yr=Dr(e=>e.permissions,e=>e),dl=()=>{const{s3ConnectionError:e,backendConnectionError:t,assemblyAIConnectionError:n}=O(Rt),{isMissingPermissions:a}=O(yr),{extensionConnectionAlerts:s}=re(ae.getState()),l=s?Ir(s):{internet:!1,"scribe-servers":!1,permissions:!1},[d,i]=o.useState(!1),[u,f]=o.useState(0),[p,c]=o.useState(!0),[m,h]=o.useState(!1),[x,g]=o.useState(!1);return o.useEffect(()=>{if(a){h(!0);return}if(t||e||n){R("viewed_server_error_preflight_checks",{location:"extension",backendConnectionError:t,s3ConnectionError:e,assemblyAIConnectionError:n}),c(!0);return}!t&&!e&&!n&&!a&&(g(!0),c(!1))},[t,e,n,a]),o.useEffect(()=>{u>=2&&!x?i(!0):i(!1)},[u,x]),o.useEffect(()=>{x&&d&&i(!1)},[x,d]),r.jsxs("div",{className:"w-[280px]",children:[m&&(l!=null&&l.permissions)?r.jsx(we,{title:"Update Permissions",description:'To use Scribe, please update your Scribe extension site access permissions to "On All Sites", or contact your IT administrator for assistance.',variant:"warning",actions:[{children:"Learn More",onClick:()=>{f(u+1),window.open("https://scribehow.com/shared/How_to_change_the_Scribe_extensions_permissions__On4yf-j0Qj2CWMFOyoPNIw")}}]}):p&&(l!=null&&l["scribe-servers"])?r.jsx(we,{className:"mb-2",title:n?"Can't connect to our voice transcription provider.":"Can't connect to Scribe servers.",description:r.jsxs(r.Fragment,{children:["Ensure that your network is not preventing this access."," ",r.jsx("a",{href:"https://support.scribehow.com/hc/en-us/articles/10885118507805-Does-Scribe-work-behind-firewalls",target:"_blank",rel:"noopener noreferrer",children:"Ask your IT department to allow these urls."})]}),variant:"error",icon:Bt,actions:[{children:"Reconnect",onClick:()=>{f(u+1),chrome.runtime.sendMessage({messageType:"checkServerAvailability"}),R("retried_server_connection_preflight_checks",{location:"extension",s3ConnectionError:e,backendConnectionError:t,assemblyAIConnectionError:n})}}]}):null,d&&r.jsx(we,{title:"Still having issues?",variant:"info",actions:[{children:"Contact Support",onClick:()=>{window.open("https://support.scribehow.com/hc/en-us/requests/new")}}]})]})},ul=({missingPermissions:e})=>{const{networkError:t,s3ConnectionError:n,backendConnectionError:a,assemblyAIConnectionError:s}=O(Rt),[l,d]=o.useState(!1),[i,u]=o.useState(!1),[f,p]=o.useState(!1),[c,m]=o.useState(!1),[h,x]=o.useState(!1),[g,v]=o.useState(!1),[j,E]=o.useState(0);o.useEffect(()=>{let N;const M=t||n||a||s||e;return d(M),p(M),!t&&!n&&!a&&!s&&!e&&f&&(u(!0),N=setTimeout(()=>{u(!1)},2e3)),()=>{N&&clearTimeout(N)}},[t,n,a,s,e,f]),o.useEffect(()=>{chrome.runtime.sendMessage({messageType:"checkForLocalStorageScribes"},N=>{if(N.localScribeDetected){m(!0);return}m(!1)})},[]),o.useEffect(()=>{j>=2&&c?(v(!0),R("save_local_scribe_failed_show_support",{location:"extension"})):v(!1)},[j]);const C=()=>{x(!0),E(j+1),R("clicked_save_local_scribe",{location:"extension"}),chrome.runtime.sendMessage({messageType:"endAndSaveLocalStorageScribes"},N=>{if(N.savingLocalScribe){m(!1),x(!1);return}x(!1)})},_=()=>{R("clicked_discard_local_scribe",{location:"extension"}),chrome.runtime.sendMessage({messageType:"discardLocalStorageScribes"},()=>{m(!1)})};return!l&&!i&&!c?r.jsx(r.Fragment,{}):r.jsxs("div",{className:"px-10 pb-6 w-full pt-0 -mt-4",children:[r.jsx(dl,{}),!l&&c&&r.jsx(cl,{handleSave:C,handleDiscard:_,loading:h,showSupport:g})]})},pl=({className:e,hoverOverlay:t=!1,onClick:n,children:a})=>r.jsxs(wa,{className:w("flex flex-row gap-4 p-4 relative items-center border-dashed shadow-sm",t&&"group cursor-pointer",e),onClick:n,children:[a,t&&r.jsx("div",{className:"absolute inset-0 z-10 transition-opacity duration-150 rounded-lg opacity-0 pointer-events-none backdrop-blur-sm bg-white/60 group-hover:opacity-100 group-hover:pointer-events-auto"})]}),ml=({scribes:e})=>r.jsx("div",{className:"flex -space-x-2",children:e.slice(0,3).map((t,n)=>r.jsx("div",{className:"relative h-6 w-6",style:{zIndex:n+1},children:r.jsx(Ca,{appIconName:ba[t.domain||""]||t.domain||"",iconUrl:qt(t.domain||"",64),size:26,blurSM:!0})},t.id||t.domain||n))}),fl=()=>r.jsxs("div",{className:"relative inline-block w-[18px] h-[18px]",children:[r.jsx(P,{icon:ke,className:"text-lg text-brand-500"}),r.jsx(P,{icon:Wt,className:"absolute bottom-[-1px] right-[-4px] text-brand-500 text-[12px]",style:{stroke:"white",strokeWidth:"30"}})]}),hl=()=>r.jsxs("div",{className:"relative inline-block w-[18px] h-[18px] animate-spin",style:{animationDuration:"3s"},children:[r.jsx(P,{spin:!0,icon:ke,className:"text-lg text-brand-500"}),r.jsx(P,{icon:Wt,spin:!0,className:"absolute bottom-[-1px] right-[-4px] text-brand-500 text-[12px]",style:{stroke:"white",strokeWidth:"30"}})]}),gl=({setLrrView:e})=>{const{isAsynchronousProcessing:t}=O(Nt),[n,a]=o.useState(0),{suggestedScribes:s,refresh:l}=ya(n);o.useEffect(()=>{(async()=>{try{const y=await ja("pending");y!=null&&y.length&&chrome.storage.local.set({suggestedScribes:y.length})}catch(y){console.warn("[SuggestedScribesSection] Initial fetchSuggestedScribes failed",y)}l()})()},[]);const[d,i]=o.useState(!1),[u,f]=o.useState(null),[p,c]=o.useState(null),[m,h]=o.useState(null),x=p===null?null:p.length>0;o.useEffect(()=>{(async()=>{try{const y=await ka();h(y)}catch{h(!1)}})()},[]),o.useEffect(()=>{(async()=>{try{const y=await _a();c(y)}catch{c([])}})()},[]),o.useEffect(()=>{try{chrome.storage.local.set({suggestedScribes:(s==null?void 0:s.length)||0})}catch{}},[s]),o.useEffect(()=>{p===null||m===null||l()},[p,m]);const g=async()=>{$("no_auto_capture_domain_link_clicked",{location:"extension"}),await Ze(_e.Options)},v=o.useMemo(()=>p===null||m===null?"loading-auto-capture":x?x&&!m?"auto-capture-disabled":d||t?"loading-auto-capture":s&&s.length>0?"auto-captures-available":"no-auto-captures":"try-auto-capture",[p,x,m,d,s,t]);o.useEffect(()=>{e(v)},[v,e]);const j=async()=>{$("try_auto_capture_suggestion_clicked",{location:"extension",hasAllowedDomains:x,number_available_auto_capture_scribes:(s==null?void 0:s.length)||0,isAnalyzing:d,currentView:v}),await Ze(_e.RecommendedScribes)},E=async()=>{$("suggested_scribes_try_auto_capture_clicked",{location:"suggested_scribes_section",hasAllowedDomains:x,suggestedScribesCount:(s==null?void 0:s.length)||0,isAnalyzing:d,currentView:v}),await Ze(_e.RecommendedScribesOnboarding)},C=async()=>{if(x){i(!0),f(null);try{await chrome.storage.local.remove(["totalSuggestedScribes"]),await chrome.runtime.sendMessage({messageType:"clearSuggestedScribes"});const y=await chrome.runtime.sendMessage({messageType:"analyzeActions"});if(!(y!=null&&y.success))throw new Error((y==null?void 0:y.error)||"Failed to analyze actions");const L=Date.now();a(L),await new Promise(I=>setTimeout(I,100)),l();try{chrome.storage.local.set({lastSuggestedScribesAnalysisTime:Date.now()})}catch{}const A=s.filter(I=>!I.actions.some(G=>G==null?void 0:G.screenshot));A.length>0&&(await Promise.all(A.map(I=>chrome.runtime.sendMessage({messageType:"updateSuggestedScribeStatus",id:I.id,status:"rejected"}))),a(Date.now()))}catch(y){console.error("Error analyzing actions:",y),f(y instanceof Error?y.message:"Unknown error")}finally{i(!1)}}},_=async()=>{try{h(!m),await Ea(!m),x&&await C()}catch(y){console.error("Failed to enable Auto-Capture",y)}},N=(s==null?void 0:s.length)>1?`${s.length} Auto-Captured Scribes`:"1 Auto-Captured Scribe",M=()=>{switch(v){case"auto-capture-disabled":return r.jsx(pl,{className:"min-w-[280px] mx-auto",children:r.jsxs("div",{className:"flex flex-row justify-between",children:[r.jsxs("div",{className:"flex flex-col justify-between",children:[r.jsxs("span",{className:"inline-flex items-center gap-1 text-sm font-semibold leading-5 m-0 mb-1",children:["Auto-Capture",r.jsx(he,{children:"Beta"})]}),r.jsx("div",{className:"flex items-center gap-2 text-xs font-normal text-slate-500 m-0",children:"Turn on to get Scribes suggested from your daily workflow"})]}),r.jsx(F,{variant:"secondary",size:"small",className:"max-h-[30px]",onClick:_,children:"Turn on"})]})});case"loading-auto-capture":return r.jsx(Me,{leftIcon:r.jsx(hl,{}),type:v,location:"extension_home",className:"min-w-[280px] mx-auto mt-4",iconPosition:"top",title:"Analyzing your activity...",capturedText:"Looking for fresh highlights",hoverOverlay:!1});case"auto-captures-available":return r.jsx(Me,{topIcon:r.jsx(ml,{scribes:s}),type:v,location:"extension_home",className:"min-w-[280px] mx-auto",iconPosition:"top",title:r.jsxs("span",{className:"inline-flex items-center gap-1",children:[N," ",r.jsx(he,{children:"Beta"})]}),capturedText:s.map(y=>y.title).join(", "),hoverOverlay:!1,onButtonClick:j});case"no-auto-captures":return r.jsx(Me,{location:"extension_home",type:v,className:"min-w-[280px] mx-auto",title:r.jsxs("span",{className:"inline-flex items-center gap-1",children:["No Auto-Captures yet ",r.jsx(he,{children:"Beta"})]}),capturedText:r.jsxs("span",{children:["Click the refresh button to get suggestions. To increase the number of suggestions add to your"," ",r.jsx(F,{variant:"link",size:"small",onClick:g,className:"inline p-0 align-baseline text-indigo-500 hover:text-indigo-600 no-underline",children:"allowed domains"}),"."]}),hoverOverlay:!1,onButtonClick:C,buttonIcon:"rotate"});case"try-auto-capture":default:return r.jsx(Me,{type:v,location:"extension_home",className:"min-w-[280px] mx-auto",leftIcon:r.jsx(fl,{}),iconPosition:"top",title:"Try Auto-Capture",capturedText:"Add allowed domains to start getting suggested Scribes!",hoverOverlay:!1,onButtonClick:E})}};return r.jsx("div",{className:"border-t border-slate-200 pt-3",children:M()})},xl=()=>{const e=()=>{chrome.runtime.sendMessage({messageType:"startCopilotSearch",source:X.SIDEPANEL}),je().then(t=>{R("copilot_entry_point_click",{url:t==null?void 0:t.url})})};return r.jsx("div",{className:"p-[1px] bg-gradient-to-r from-[#3AC3FF] to-brand-500 rounded-lg mb-3",children:r.jsxs(F,{"data-testid":"startCopilotButton",size:"huge",className:"hover:bg-gradient-to-r hover:from-[#3ac3ff]/5 hover:to-[#5648fb]/5 shadow-none w-full",onClick:e,variant:"secondary",children:[r.jsx(wr,{className:"text-[#3AC3FF]"}),r.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-[#3AC3FF] to-brand-500 text-transparent bg-clip-text",children:["Search with Scribe AI",r.jsx(he,{className:"text-[11px] bg-gradient-to-br from-indigo-50 to-white py-[4px] leading-[normal] px-[6px] text-indigo-400 font-semibold",children:"BETA"})]})]})})},vl=()=>{const[e,t]=o.useState(null),[n,a]=o.useState(!0);if(o.useEffect(()=>{Ar("super_organization/contact/").then(l=>{t(l.data),a(!1)})},[]),n)return r.jsx("div",{style:{height:28}});if(!e)return r.jsx("p",{className:"ViewerMessage","data-testid":"viewerOnly",children:"This is a view-only experience of Scribe. To unlock creation functionality, please contact your organization's administrator to update your role."});const s=()=>{$("viewer_click_admin_role_update",{location:"sidekick"})};return r.jsxs("p",{className:"ViewerMessage","data-testid":"viewerOnly",children:["This is a view-only experience of Scribe. To unlock creation functionality, please contact"," ",r.jsx("a",{href:`mailto:${e.email}`,onClick:s,children:`${e.first_name} ${e.last_name}`.trim()})," ","to update your role."]})},bl=({user:e,isPlanFree:t,hasViewerLicense:n,onStartRecording:a,onVisitWorkspaceDocuments:s,onVisitRecommended:l,scribeCountOnDomain:d,isSidePanel:i=!1,onGoToOptionsPage:u,missingPermissions:f,userGrowthState:p})=>{var I,G,ee,pe;const{copilot:c,voiceTranscriptionExpSplitButton:m,lrr2025:h,pinTreasures:x}=re(ae.getState()),g=en(e,p),v=(G=(I=e==null?void 0:e.active_organization)==null?void 0:I.super_organization)==null?void 0:G.allow_web,j=(pe=(ee=e==null?void 0:e.active_organization)==null?void 0:ee.super_organization)==null?void 0:pe.allow_openai,E=v&&j&&i,C=m==="experiment"&&E,[_,N]=o.useState("loading-auto-capture");o.useEffect(()=>{if(i)if(h&&i)switch(_){case"try-auto-capture":$("side_kick_opened",{location:"extension",try_auto_capture_visible:!0});break;case"auto-captures-available":$("side_kick_opened",{location:"extension",auto_captured_scribes_available:!0});break;case"no-auto-captures":$("side_kick_opened",{location:"extension",no_auto_capture_yet_visible:!0});break;case"auto-capture-disabled":$("side_kick_opened",{location:"extension",auto_capture_disabled:!0});break}else!h&&i&&$("side_kick_opened",{location:"extension",try_auto_capture_visible:!1})},[_,h,i]);const M=g&&v&&!C&&!n,{audioRecordingEnabled:y,toggleAudioRecording:L,setAudioRecordingMode:A}=Ut("sidepanel",C);return o.useEffect(()=>{E&&$("view_experiment",{...m,experiment:"voice_transcription_exp_split_button"})},[m]),o.useEffect(()=>{if(!x)return;const Z=ye=>{ye.key==="Escape"&&chrome.runtime.sendMessage({messageType:"stopDropPin"}),ye.key==="p"&&alert("P -> pin to page")};return window.addEventListener("keydown",Z),()=>{window.removeEventListener("keydown",Z)}},[]),r.jsxs("div",{className:w("Greeting overflow-auto",{"h-full !w-full":i}),children:[r.jsx("div",{className:"mb-12 px-6",children:r.jsx(Na,{user:e,onVisitWorkspaceDocuments:s,onGoToOptionsPage:u})}),r.jsxs("div",{className:t?"GreetingTopSection":"GreetingTopSection mb-6",children:[r.jsx(be,{title:"Logo"}),r.jsxs("h1",{"data-testid":"extensionDropdownGreetingTitle",className:"Greeting__title mb-10 mt-4",children:["Hello, ",e.first_name,"!"]}),n&&r.jsx(vl,{}),r.jsxs("div",{className:"mb-4 mt-2 flex w-full flex-col gap-3",children:[M&&r.jsx(Ht,{enabled:y,onToggle:L}),v&&(C?r.jsx(ol,{onClick:a,disabled:n,wasVoiceTranscriptionOnAtInit:y,onValueChange:Z=>{A(Z==="voice")}}):r.jsx(tt,{onClick:a,disabled:n,hasViewerLicense:n})),h&&i&&r.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:r.jsx(gl,{setLrrView:N})}),!v&&r.jsxs(Lt,{onOpenChange:()=>{},children:[r.jsx(Dt,{children:r.jsx("div",{children:r.jsx(tt,{onClick:a,disabled:!0})})}),r.jsx(It,{children:r.jsx("div",{className:"flex items-center",children:r.jsx("span",{"data-testid":"noCaptureTooltip",children:"Capturing disabled. Please contact your admin."})})})]}),r.jsx(ll,{})]})]}),r.jsxs("div",{className:"GreetingBottomSection",children:[t&&r.jsx(nn,{}),r.jsx(ul,{missingPermissions:f}),r.jsxs("div",{className:"rounded-b-md border-slate-200 p-6",children:[c&&j&&r.jsx(xl,{}),r.jsx(sl,{onClick:l,scribeCount:d,isSidePanel:i,isSidekickDisplayingFixedWidthSplitButton:C}),x&&r.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[r.jsx(F,{onClick:()=>{$("pin_entry_point_clicked",{location:"sidekick"}),chrome.runtime.sendMessage({messageType:"startDropPin"})},icon:sa,variant:"ghost",children:"Pin"}),r.jsx(F,{onClick:()=>{chrome.runtime.sendMessage({messageType:"clearPins"})},icon:zt,variant:"ghost",children:"Clear Pins"})]})]})]})]})},wl=({isSidePanel:e})=>r.jsxs("div",{className:`box-border flex ${e?"w-full h-full":"w-[241px]"} flex-col items-center rounded-lg bg-slate-50 px-3 pb-3 pt-10 shadow-black shadow-slate-100 outline outline-1	outline-slate-50`,children:[r.jsx(be,{title:"Logo"}),r.jsx("h1",{className:"mb-4 mt-4 text-lg font-bold leading-7",children:"Update Permissions"}),r.jsx("div",{className:"flex justify-center",children:r.jsx(F,{variant:"primary",size:"small",onClick:()=>{window.open("https://scribehow.com/shared/How_to_change_the_Scribe_extensions_permissions__On4yf-j0Qj2CWMFOyoPNIw")},children:"Learn More"})}),r.jsx("div",{className:"mt-4 text-center text-sm ",children:'To capture a new Scribe, please update your Scribe extension site access permissions to "On All Sites".'})]}),_t=e=>{const t=a=>({height:`${e.size}px`,width:`${e.size}px`,position:"absolute",backgroundColor:`${e.color}`,borderRadius:"100%",opacity:"0.6",top:"0",left:"0",animationFillMode:"both",animation:`scribe-widget-bounce-loader 2.1s ${a===1?"1s":"0s"} infinite ease-in-out`}),n={position:"relative",height:`${e.size}px`,width:`${e.size}px`};return e.loading?r.jsxs("span",{style:n,children:[r.jsx("style",{children:`@keyframes scribe-widget-bounce-loader {
                    0%, 100% {
                        transform: scale(0)
                    }
                    50% {
                        transform: scale(1.0)
                    }
                }`}),r.jsx("span",{style:t(1)}),r.jsx("span",{style:t(2)})]}):null};_t.defaultProps={size:60,loading:!0,color:"#000000",style:{}};const yl=()=>{R("extension_dropdown_discard_scribe"),chrome.runtime.sendMessage({messageType:"popupDiscardRecordingWhileStopping"})},Cl=()=>{const e=O(Or);return r.jsx("div",{className:"box-border flex w-[330px] flex-col items-center rounded-lg bg-slate-50 shadow-lg outline outline-1 outline-slate-300",children:r.jsxs("div",{className:"flex h-[300px] w-full flex-col items-center justify-center",children:[r.jsx(be,{title:"Logo"}),r.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 p-4",children:[r.jsx("span",{className:"flex items-center justify-center px-7 leading-5 text-slate-700",children:"Generating your Scribe..."}),r.jsx(_t,{size:24,color:"#1565C0"}),!e&&r.jsx(F,{variant:"secondary",disabled:e,onClick:yl,className:"mt-2",size:"large",children:"Cancel"})]})]})})},jl=()=>{R("extension_dropdown_stop_recording"),chrome.runtime.sendMessage({messageType:"popupStopRecording"})},_l=({isSidePanel:e=!1})=>r.jsx("div",{className:w("box-border flex w-[300px] flex-col items-center rounded-lg bg-slate-50 shadow-lg outline outline-1 outline-slate-300",{"h-full !w-full":e}),children:r.jsxs("div",{className:"flex h-[176px] w-full flex-col items-center justify-center",children:[r.jsx(be,{title:"Logo"}),r.jsx(F,{size:"huge",onClick:jl,className:"mt-7 w-full !max-w-[165px]","data-testid":"extensionStopRecordingButton",children:"Stop Capture"})]})}),kl=()=>r.jsx(F,{"data-testid":"sign-in-button",onClick:()=>{chrome.runtime.sendMessage({messageType:"popupLogIn"})},size:"huge",className:"w-full",children:"Sign in to Scribe"}),El=({isSidePanel:e=!1})=>r.jsxs("div",{className:w("SignIn",{"h-full !w-full":e}),children:[r.jsx(be,{}),r.jsx("h1",{className:"SignIn__title",children:"Welcome!"}),r.jsx(kl,{})]}),Cr=e=>{var t,n;return(t=e==null?void 0:e.active_organization)!=null&&t.permission_level?((n=e==null?void 0:e.active_organization)==null?void 0:n.permission_level)!=="read":!0},jr=({scribeCountOnDomain:e=0,onClose:t,user:n,missingPermissions:a,isSidePanel:s=!1,userGrowthState:l,...d})=>{const{sidekickRefresh:i}=re(ae.getState()),u=O(zr),f=O(Vr),p=O(St),{domainAllowlistLoaded:c}=O($r),[m,h]=o.useState(null),x=Ke();o.useEffect(()=>{var M;if(x&&n&&c){const y=s?null:(M=window==null?void 0:window.location)==null?void 0:M.hostname;x(Gr({domain:y,source:s?X.SIDEPANEL:X.CONTENT}))}},[c,x,!!n]),o.useEffect(()=>(chrome.runtime.sendMessage({messageType:"trackNewRelicLog",name:"extension_dropdown_opened",details:{userEmail:n==null?void 0:n.email,missingPermissions:a,isSidePanel:!!s}}),Br("recordingControlsPreference").then(M=>{h(M)}),()=>{chrome.runtime.sendMessage({messageType:"trackNewRelicLog",name:"extension_dropdown_closed",details:{isSidePanel:!!s}})}),[]),o.useEffect(()=>{i!==void 0&&$("extension_sidekick_refresh",{sidekickRefresh:!!i})},[i]);const g=()=>{R("extension_dropdown_start_recording"),chrome.runtime.sendMessage({messageType:"popupStartRecord",source:s?X.SIDEPANEL:X.CONTENT,data:{url:window.location.url}}),t==null||t()},v=()=>{if(R("extension_settings_clicked",{location:s?"sidekick":"dropdown"}),s){chrome.runtime.sendMessage({messageType:"popupGoToOptionsPage",source:s?X.SIDEPANEL:X.CONTENT});return}const M=`chrome-extension://${chrome.runtime.id}/src/scripts/options/index.html`;window.open(M,"_blank"),t==null||t()},j=()=>{chrome.runtime.sendMessage({messageType:"popupGoToMyLibrary"}),R("extension_dropdown_visit_workspace_clicked")},E=()=>{chrome.runtime.sendMessage({messageType:"popupGoToMyDocuments"}),R("extension_dropdown_visit_workspace_documents_clicked")},C=Ft(n),_=!Cr(n);if(u)return r.jsx(_l,{isSidePanel:s});if(f&&!s&&m!=="sidepanel")return r.jsx(Cl,{});if(!n)return a?r.jsx(wl,{isSidePanel:s}):r.jsx(El,{isSidePanel:s});const N=M=>{chrome.runtime.connect({name:"sidePanelPort"}).postMessage({messageType:"openSidePanel",route:M,clickedFromSearch:!e}),t==null||t()};return i?r.jsx(Ot,{children:r.jsx(rl,{isSidePanel:s,hasViewerLicense:_,onStartRecording:g,onVisitWorkspaceDocuments:E,onGoToOptionsPage:v,user:n,userGrowthState:l})}):r.jsx(Ot,{children:r.jsx(bl,{onStartRecording:g,onVisitWorkspaceDocuments:E,onVisitWorkspace:j,onVisitRecommended:()=>N(_e.Assistant),user:n,loading:p,isPlanFree:C,hasViewerLicense:_,scribeCountOnDomain:e,isSidePanel:s,onGoToOptionsPage:v,userGrowthState:l,missingPermissions:a,...d})})};jr.propTypes={user:Pe.object.isRequired,scribeCountOnDomain:Pe.number,onClose:Pe.func,userGrowthState:Pe.object};export{Zn as $,_t as B,hr as D,jr as E,Cn as M,on as P,_n as a,Nn as b,Qt as c,fr as d,Be as e,sn as f,at as g,Fn as h,Ue as i,jn as j,yr as s,tn as w};

import{j as s,I as R,c as m,a as x}from"./Icon-8dd1dd62.js";import{D as z}from"./index-13d794b2.js";import{r as d}from"./index-8b3efc3f.js";import{A as V}from"./Avatar-355cf6f2.js";import{B as S}from"./Button-7b9bff07.js";function L(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];t&&t.addEventListener&&t.addEventListener.apply(t,r)}function A(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];t&&t.removeEventListener&&t.removeEventListener.apply(t,r)}var B=["mousedown","touchstart"],D=function(t,r,e){e===void 0&&(e=B);var l=d.useRef(r);d.useEffect(function(){l.current=r},[r]),d.useEffect(function(){for(var i=function(o){var c=t.current;c&&!c.contains(o.target)&&l.current(o)},n=0,a=e;n<a.length;n++){var f=a[n];L(document,f,i)}return function(){for(var o=0,c=e;o<c.length;o++){var h=c[o];A(document,h,i)}}},[e,t])};const F=D,k=x("h-6 group flex w-fit max-w-full gap-1 select-none items-center rounded-md  transition-colors",{variants:{onClick:{true:"cursor-pointer hover:ring-slate-400/50 hover:shadow-slate-400 dark:hover:shadow-slate-600 [&:has(button:first-child:focus-visible)]:outline [&:has(button:first-child:focus-visible)]:outline-[1.5px] [&:has(button:first-child:focus-visible)]:outline-offset-2 [&:has(button:first-child:focus-visible)]:outline-brand-400 [&:has(button:first-child:focus-visible)]:ring-0"},editable:{true:"border border-dashed border-slate-400/60 dark:border-slate-700 h-[26px] -m-px [&:has(input:focus-visible)]:outline [&:has(input:focus-visible)]:outline-[1.5px] [&:has(input:focus-visible)]:outline-offset-2 [&:has(input:focus-visible)]:outline-brand-400 [&:has(input:focus-visible)]:ring-0",false:"ring-1 ring-slate-400/30 dark:ring-slate-700"},error:{true:"bg-red-100 dark:bg-red-900 ring-red-200 dark:ring-red-800",false:"bg-white dark:bg-slate-900"}},compoundVariants:[{error:!0,onClick:!0,className:"hover:ring-red-300 dark:hover:ring-red-700"}],defaultVariants:{editable:!1}}),p=x("flex font-sans field-sizing-content border-none text-xs font-medium items-center gap-1 flex-1 min-w-0 max-w-48 bg-transparent py-1 px-1.5 m-0 focus:outline-none",{variants:{onClick:{true:"cursor-pointer"},error:{true:"text-red-950 dark:text-red-100 placeholder:text-red-950/50 dark:placeholder:text-red-100/50",false:"text-slate-600 dark:text-slate-400 placeholder:text-slate-400 dark:placeholder:text-slate-500"}},defaultVariants:{error:!1}}),I=x("shrink-0 size-3",{variants:{error:{true:"text-red-700 dark:text-red-300",false:"text-slate-500 dark:text-slate-400"}}}),P=x("size-4 rounded-full flex-shrink-0 mr-1 -ml-1.5 bg-transparent p-0 [&:has(:focus-visible)]:outline-none",{variants:{error:{true:"text-red-950/50 dark:text-red-100/60 hover:bg-red-200 dark:hover:bg-red-100/20 hover:text-red-950 dark:hover:text-red-100 group-hover:text-red-950 dark:group-hover:text-red-100 focus-visible:bg-red-200 dark:focus-visible:bg-red-100/20 focus-visible:text-red-950 dark:focus-visible:text-red-100",false:"text-slate-400 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700 hover:text-slate-600 dark:hover:text-slate-500 group-hover:text-slate-500 dark:group-hover:text-slate-400 focus-visible:bg-slate-200 dark:focus-visible:bg-slate-700 focus-visible:text-slate-600 dark:focus-visible:text-slate-500"}}}),w=d.forwardRef(({label:t,theme:r="light",error:e=!1,onClick:l,onRemove:i,className:n,...a},f)=>{const o=s.jsxs(s.Fragment,{children:["avatar"in a&&a.avatar&&s.jsx(V,{size:"xxs",theme:r==="dark"?"light":"dark",...a.avatar}),"icon"in a&&a.icon&&s.jsx(R,{icon:a.icon,className:I({error:e})}),"img"in a&&a.img&&s.jsx("img",{src:a.img.src,className:"rounded-sm shrink-0 size-4",alt:a.img.alt}),s.jsx("span",{className:"truncate",title:t,children:t})]});return s.jsxs("div",{ref:f,className:m(k({onClick:!!l,error:e}),n),"data-theme":r,"data-testid":"chip","aria-invalid":e||void 0,...a,children:[l?s.jsx("button",{type:"button",onClick:l,className:p({onClick:!!l,error:e}),children:o}):s.jsx("div",{className:p({error:e}),children:o}),i&&s.jsx(S,{type:"button",className:P({error:e}),"aria-label":`Remove "${t}"`,onClick:i,icon:z,iconProps:{className:"size-3"},variant:"ghost"})]})}),C=d.forwardRef(({theme:t="light",defaultValue:r,value:e,className:l,onChange:i,onSave:n,onCancel:a,onClickAway:f,placeholder:o,...c},h)=>{const[u,N]=d.useState(e||r),b=d.useRef(null),y=v=>{N(v.target.value),i==null||i(v.target.value)},E=v=>{v.key==="Escape"&&(a==null||a()),v.key==="Enter"&&n&&u&&n(u)},g=()=>{u&&f&&f(u)};return F(b,()=>{g()}),s.jsx("div",{className:m(k({editable:!0}),l),"data-theme":t,ref:b,children:s.jsx("input",{ref:h,type:"text",defaultValue:r,value:e,onChange:y,onKeyDown:E,onBlur:g,placeholder:o,...c,className:p()})})});d.forwardRef(({chipProps:t,editableProps:r,theme:e="light"},l)=>{const i=d.useRef(null),[n,a]=d.useState(!1),f=h=>{var u;a(!0),(u=t==null?void 0:t.onClick)==null||u.call(t,h)},o=h=>{var u;(u=r.onSave)==null||u.call(r,h),a(!1)},c=()=>{a(!1)};return n?s.jsx(C,{ref:i,theme:e,onSave:o,onClickAway:o,onCancel:c,autoFocus:!0,...r}):s.jsx(w,{ref:l,theme:e,onClick:f,...t})});const j=x("rounded border-none font-sans outline outline-1 transition-[outline] focus:outline-2 disabled:cursor-not-allowed disabled:opacity-50 bg-white dark:bg-transparent disabled:bg-slate-100 dark:disabled:bg-slate-800 text-slate-800 dark:text-slate-300 outline-slate-300 dark:outline-slate-600 placeholder:text-slate-400 dark:placeholder:text-slate-500 focus:outline-indigo-400",{variants:{error:{true:"outline-red-400 focus:outline-red-400 dark:outline-red-400 dark:focus:outline-red-400 text-red-800 placeholder:text-red-800 dark:text-red-200 dark:placeholder:text-red-200",false:""},small:{true:"px-2 py-[8.5px] text-[13px] leading-[15px]",false:"px-3 py-2.5 text-sm"}},defaultVariants:{error:!1,small:!1}}),K=d.forwardRef(({theme:t="light",error:r=!1,small:e=!1,className:l,...i},n)=>s.jsx("input",{ref:n,"data-theme":t,className:m(j({error:r,small:e}),l),...i}));export{w as C,C as E,K as I,j as i};

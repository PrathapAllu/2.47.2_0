import{$ as P,b as q,a as C,_ as v}from"./index-971785a2.js";import{r as t}from"./index-8b3efc3f.js";import{$ as I,a as x,d as L,b as $,c as K}from"./Label-43f6936b.js";const w="Checkbox",[M,X]=P(w),[O,S]=M(w),H=t.forwardRef((e,u)=>{const{__scopeCheckbox:n,name:c,checked:p,defaultChecked:a,required:b,disabled:d,value:i="on",onCheckedChange:h,...m}=e,[o,R]=t.useState(null),_=q(u,r=>R(r)),k=t.useRef(!1),y=o?!!o.closest("form"):!0,[l=!1,E]=I({prop:p,defaultProp:a,onChange:h}),D=t.useRef(l);return t.useEffect(()=>{const r=o==null?void 0:o.form;if(r){const f=()=>E(D.current);return r.addEventListener("reset",f),()=>r.removeEventListener("reset",f)}},[o,E]),t.createElement(O,{scope:n,state:l,disabled:d},t.createElement(C.button,v({type:"button",role:"checkbox","aria-checked":s(l)?"mixed":l,"aria-required":b,"data-state":g(l),"data-disabled":d?"":void 0,disabled:d,value:i},m,{ref:_,onKeyDown:x(e.onKeyDown,r=>{r.key==="Enter"&&r.preventDefault()}),onClick:x(e.onClick,r=>{E(f=>s(f)?!0:!f),y&&(k.current=r.isPropagationStopped(),k.current||r.stopPropagation())})})),y&&t.createElement(A,{control:o,bubbles:!k.current,name:c,value:i,checked:l,required:b,disabled:d,style:{transform:"translateX(-100%)"}}))}),j="CheckboxIndicator",z=t.forwardRef((e,u)=>{const{__scopeCheckbox:n,forceMount:c,...p}=e,a=S(j,n);return t.createElement(L,{present:c||s(a.state)||a.state===!0},t.createElement(C.span,v({"data-state":g(a.state),"data-disabled":a.disabled?"":void 0},p,{ref:u,style:{pointerEvents:"none",...e.style}})))}),A=e=>{const{control:u,checked:n,bubbles:c=!0,...p}=e,a=t.useRef(null),b=$(n),d=K(u);return t.useEffect(()=>{const i=a.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(b!==n&&m){const o=new Event("click",{bubbles:c});i.indeterminate=s(n),m.call(i,s(n)?!1:n),i.dispatchEvent(o)}},[b,n,c]),t.createElement("input",v({type:"checkbox","aria-hidden":!0,defaultChecked:s(n)?!1:n},p,{tabIndex:-1,ref:a,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function s(e){return e==="indeterminate"}function g(e){return s(e)?"indeterminate":e?"checked":"unchecked"}const B=H,F=z;export{B as $,F as a};
